

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pandas.plotting._core &mdash; Stream Graph 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/_static/css/supplementary.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Stream Graph
          

          
            
            <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html#installing-dependencies">Installing Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html#installing-the-master-version">Installing the master-version</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html">ABC Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html#base-classes">Base Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html#abc-implementations">ABC Implementations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html#temporal-dataframes">Temporal-DataFrames</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html#visualizer">Visualizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html#exceptions">Exceptions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../auto_examples/index.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials.html">EmailEu</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Stream Graph</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>pandas.plotting._core</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pandas.plotting._core</h1><div class="highlight"><pre>
<span></span><span class="c1"># being a bit too dynamic</span>
<span class="c1"># pylint: disable=E1101</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">division</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">namedtuple</span>
<span class="kn">from</span> <span class="nn">distutils.version</span> <span class="k">import</span> <span class="n">LooseVersion</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">pandas.compat</span> <span class="k">as</span> <span class="nn">compat</span>
<span class="kn">from</span> <span class="nn">pandas.compat</span> <span class="k">import</span> <span class="n">lrange</span><span class="p">,</span> <span class="nb">map</span><span class="p">,</span> <span class="nb">range</span><span class="p">,</span> <span class="n">string_types</span><span class="p">,</span> <span class="nb">zip</span>
<span class="kn">from</span> <span class="nn">pandas.errors</span> <span class="k">import</span> <span class="n">AbstractMethodError</span>
<span class="kn">from</span> <span class="nn">pandas.util._decorators</span> <span class="k">import</span> <span class="n">Appender</span><span class="p">,</span> <span class="n">cache_readonly</span>

<span class="kn">from</span> <span class="nn">pandas.core.dtypes.common</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">is_hashable</span><span class="p">,</span> <span class="n">is_integer</span><span class="p">,</span> <span class="n">is_iterator</span><span class="p">,</span> <span class="n">is_list_like</span><span class="p">,</span> <span class="n">is_number</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pandas.core.dtypes.generic</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">ABCDataFrame</span><span class="p">,</span> <span class="n">ABCIndexClass</span><span class="p">,</span> <span class="n">ABCMultiIndex</span><span class="p">,</span> <span class="n">ABCPeriodIndex</span><span class="p">,</span> <span class="n">ABCSeries</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pandas.core.dtypes.missing</span> <span class="k">import</span> <span class="n">isna</span><span class="p">,</span> <span class="n">notna</span><span class="p">,</span> <span class="n">remove_na_arraylike</span>

<span class="kn">from</span> <span class="nn">pandas.core.base</span> <span class="k">import</span> <span class="n">PandasObject</span>
<span class="kn">import</span> <span class="nn">pandas.core.common</span> <span class="k">as</span> <span class="nn">com</span>
<span class="kn">from</span> <span class="nn">pandas.core.config</span> <span class="k">import</span> <span class="n">get_option</span>
<span class="kn">from</span> <span class="nn">pandas.core.generic</span> <span class="k">import</span> <span class="n">_shared_doc_kwargs</span><span class="p">,</span> <span class="n">_shared_docs</span>

<span class="kn">from</span> <span class="nn">pandas.io.formats.printing</span> <span class="k">import</span> <span class="n">pprint_thing</span>
<span class="kn">from</span> <span class="nn">pandas.plotting._compat</span> <span class="k">import</span> <span class="n">_mpl_ge_3_0_0</span>
<span class="kn">from</span> <span class="nn">pandas.plotting._style</span> <span class="k">import</span> <span class="n">_get_standard_colors</span><span class="p">,</span> <span class="n">plot_params</span>
<span class="kn">from</span> <span class="nn">pandas.plotting._tools</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">_flatten</span><span class="p">,</span> <span class="n">_get_all_lines</span><span class="p">,</span> <span class="n">_get_xlim</span><span class="p">,</span> <span class="n">_handle_shared_axes</span><span class="p">,</span> <span class="n">_set_ticks_props</span><span class="p">,</span>
    <span class="n">_subplots</span><span class="p">,</span> <span class="n">format_date_labels</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">pandas.plotting</span> <span class="k">import</span> <span class="n">_converter</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">_HAS_MPL</span> <span class="o">=</span> <span class="kc">False</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">_HAS_MPL</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">get_option</span><span class="p">(</span><span class="s1">&#39;plotting.matplotlib.register_converters&#39;</span><span class="p">):</span>
        <span class="n">_converter</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">explicit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_raise_if_no_mpl</span><span class="p">():</span>
    <span class="c1"># TODO(mpl_converter): remove once converter is explicit</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_HAS_MPL</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ImportError</span><span class="p">(</span><span class="s2">&quot;matplotlib is required for plotting.&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_get_standard_kind</span><span class="p">(</span><span class="n">kind</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;density&#39;</span><span class="p">:</span> <span class="s1">&#39;kde&#39;</span><span class="p">}</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_gca</span><span class="p">(</span><span class="n">rc</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
    <span class="k">with</span> <span class="n">plt</span><span class="o">.</span><span class="n">rc_context</span><span class="p">(</span><span class="n">rc</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">_gcf</span><span class="p">():</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
    <span class="k">return</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">MPLPlot</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base class for assembling a pandas plot using matplotlib</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data :</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_kind</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Specify kind str. Must be overridden in child class&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="n">_layout_type</span> <span class="o">=</span> <span class="s1">&#39;vertical&#39;</span>
    <span class="n">_default_rot</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">orientation</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_pop_attributes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;style&#39;</span><span class="p">,</span> <span class="s1">&#39;logy&#39;</span><span class="p">,</span> <span class="s1">&#39;logx&#39;</span><span class="p">,</span> <span class="s1">&#39;loglog&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;mark_right&#39;</span><span class="p">,</span> <span class="s1">&#39;stacked&#39;</span><span class="p">]</span>
    <span class="n">_attr_defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;logy&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;logx&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;loglog&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                      <span class="s1">&#39;mark_right&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;stacked&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">use_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                 <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xlim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">xticks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yticks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">sort_columns</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">secondary_y</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">table</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>

        <span class="n">_raise_if_no_mpl</span><span class="p">()</span>
        <span class="n">_converter</span><span class="o">.</span><span class="n">_WARN</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">by</span> <span class="o">=</span> <span class="n">by</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">kind</span> <span class="o">=</span> <span class="n">kind</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sort_columns</span> <span class="o">=</span> <span class="n">sort_columns</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span> <span class="o">=</span> <span class="n">subplots</span>

        <span class="k">if</span> <span class="n">sharex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sharex</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># if we get an axis, the users should do the visibility</span>
                <span class="c1"># setting...</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sharex</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sharex</span> <span class="o">=</span> <span class="n">sharex</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sharey</span> <span class="o">=</span> <span class="n">sharey</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figsize</span> <span class="o">=</span> <span class="n">figsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">layout</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">xticks</span> <span class="o">=</span> <span class="n">xticks</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">yticks</span> <span class="o">=</span> <span class="n">yticks</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xlim</span> <span class="o">=</span> <span class="n">xlim</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ylim</span> <span class="o">=</span> <span class="n">ylim</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_index</span> <span class="o">=</span> <span class="n">use_index</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fontsize</span> <span class="o">=</span> <span class="n">fontsize</span>

        <span class="k">if</span> <span class="n">rot</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rot</span> <span class="o">=</span> <span class="n">rot</span>
            <span class="c1"># need to know for format_date_labels since it&#39;s rotated to 30 by</span>
            <span class="c1"># default</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_rot_set</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_rot_set</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_rot</span>

        <span class="k">if</span> <span class="n">grid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">grid</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">secondary_y</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.grid&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="n">grid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legend</span> <span class="o">=</span> <span class="n">legend</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legend_handles</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legend_labels</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pop_attributes</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attr_defaults</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span> <span class="o">=</span> <span class="n">fig</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># parse errorbar input if given</span>
        <span class="n">xerr</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;xerr&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">yerr</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;yerr&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">{</span><span class="n">kw</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_errorbars</span><span class="p">(</span><span class="n">kw</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                       <span class="k">for</span> <span class="n">kw</span><span class="p">,</span> <span class="n">err</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="s1">&#39;xerr&#39;</span><span class="p">,</span> <span class="s1">&#39;yerr&#39;</span><span class="p">],</span> <span class="p">[</span><span class="n">xerr</span><span class="p">,</span> <span class="n">yerr</span><span class="p">])}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">secondary_y</span><span class="p">,</span> <span class="p">(</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span>
                                        <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">ABCIndexClass</span><span class="p">)):</span>
            <span class="n">secondary_y</span> <span class="o">=</span> <span class="p">[</span><span class="n">secondary_y</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_y</span> <span class="o">=</span> <span class="n">secondary_y</span>

        <span class="c1"># ugly TypeError if user passes matplotlib&#39;s `cmap` name.</span>
        <span class="c1"># Probably better to accept either.</span>
        <span class="k">if</span> <span class="s1">&#39;cmap&#39;</span> <span class="ow">in</span> <span class="n">kwds</span> <span class="ow">and</span> <span class="n">colormap</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Only specify one of `cmap` and `colormap`.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="s1">&#39;cmap&#39;</span> <span class="ow">in</span> <span class="n">kwds</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">colormap</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;cmap&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">colormap</span> <span class="o">=</span> <span class="n">colormap</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="n">table</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span> <span class="o">=</span> <span class="n">kwds</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_color_args</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_validate_color_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="s1">&#39;color&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span> <span class="ow">and</span> <span class="s1">&#39;colors&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">((</span><span class="s2">&quot;&#39;colors&#39; is being deprecated. Please use &#39;color&#39;&quot;</span>
                           <span class="s2">&quot;instead of &#39;colors&#39;&quot;</span><span class="p">))</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;colors&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colors</span>

        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;color&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">nseries</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span>
                <span class="ow">not</span> <span class="n">is_list_like</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">])):</span>
            <span class="c1"># support series.plot(color=&#39;green&#39;)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]]</span>

        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;color&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">nseries</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">])</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)):</span>
            <span class="c1"># support RGB and RGBA tuples in series plot</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]]</span>

        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;color&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span> <span class="ow">or</span> <span class="s1">&#39;colors&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">)</span> <span class="ow">and</span> \
                <span class="bp">self</span><span class="o">.</span><span class="n">colormap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;&#39;color&#39; and &#39;colormap&#39; cannot be used &quot;</span>
                          <span class="s2">&quot;simultaneously. Using &#39;color&#39;&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="s1">&#39;color&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_list_like</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">):</span>
                <span class="n">styles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">style</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">styles</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">]</span>
            <span class="c1"># need only a single match</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">styles</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;^[a-z]+?&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="s2">&quot;Cannot pass &#39;style&#39; string with a color &quot;</span>
                        <span class="s2">&quot;symbol and &#39;color&#39; keyword argument. Please&quot;</span>
                        <span class="s2">&quot; use one or the other or pass &#39;style&#39; &quot;</span>
                        <span class="s2">&quot;without a color symbol&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_iter_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">keep_index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fillna</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
        <span class="k">if</span> <span class="n">fillna</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">fillna</span><span class="p">)</span>

        <span class="c1"># TODO: unused?</span>
        <span class="c1"># if self.sort_columns:</span>
        <span class="c1">#     columns = com.try_sort(data.columns)</span>
        <span class="c1"># else:</span>
        <span class="c1">#     columns = data.columns</span>

        <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">keep_index</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">col</span><span class="p">,</span> <span class="n">values</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">col</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">values</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">nseries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">draw_if_interactive</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_args_adjust</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_compute_plot_data</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_setup_subplots</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_plot</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_table</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_make_legend</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_adorn_subplots</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_post_plot_logic_common</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_post_plot_logic</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_args_adjust</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_has_plotted_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;check whether ax has data&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">lines</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">or</span>
                <span class="nb">len</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">artists</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">or</span>
                <span class="nb">len</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">containers</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_maybe_right_yaxis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">axes_num</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_right</span><span class="p">(</span><span class="n">axes_num</span><span class="p">):</span>
            <span class="c1"># secondary axes may be passed via ax kw</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_ax_layer</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;right_ax&#39;</span><span class="p">):</span>
            <span class="c1"># if it has right_ax proparty, ``ax`` must be left axes</span>
            <span class="k">return</span> <span class="n">ax</span><span class="o">.</span><span class="n">right_ax</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;left_ax&#39;</span><span class="p">):</span>
            <span class="c1"># if it has left_ax proparty, ``ax`` must be right axes</span>
            <span class="k">return</span> <span class="n">ax</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># otherwise, create twin axes</span>
            <span class="n">orig_ax</span><span class="p">,</span> <span class="n">new_ax</span> <span class="o">=</span> <span class="n">ax</span><span class="p">,</span> <span class="n">ax</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
            <span class="c1"># TODO: use Matplotlib public API when available</span>
            <span class="n">new_ax</span><span class="o">.</span><span class="n">_get_lines</span> <span class="o">=</span> <span class="n">orig_ax</span><span class="o">.</span><span class="n">_get_lines</span>
            <span class="n">new_ax</span><span class="o">.</span><span class="n">_get_patches_for_fill</span> <span class="o">=</span> <span class="n">orig_ax</span><span class="o">.</span><span class="n">_get_patches_for_fill</span>
            <span class="n">orig_ax</span><span class="o">.</span><span class="n">right_ax</span><span class="p">,</span> <span class="n">new_ax</span><span class="o">.</span><span class="n">left_ax</span> <span class="o">=</span> <span class="n">new_ax</span><span class="p">,</span> <span class="n">orig_ax</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_plotted_object</span><span class="p">(</span><span class="n">orig_ax</span><span class="p">):</span>  <span class="c1"># no data on left y</span>
                <span class="n">orig_ax</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">logy</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">loglog</span><span class="p">:</span>
                <span class="n">new_ax</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">new_ax</span>

    <span class="k">def</span> <span class="nf">_setup_subplots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span><span class="p">:</span>
            <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">_subplots</span><span class="p">(</span><span class="n">naxes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nseries</span><span class="p">,</span>
                                  <span class="n">sharex</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sharex</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sharey</span><span class="p">,</span>
                                  <span class="n">figsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">figsize</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="p">,</span>
                                  <span class="n">layout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="p">,</span>
                                  <span class="n">layout_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_layout_type</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">fig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">figsize</span><span class="p">)</span>
                <span class="n">axes</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">figsize</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figsize</span><span class="p">)</span>
                <span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span>

        <span class="n">axes</span> <span class="o">=</span> <span class="n">_flatten</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">logx</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">loglog</span><span class="p">:</span>
            <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">logy</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">loglog</span><span class="p">:</span>
            <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span> <span class="o">=</span> <span class="n">fig</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return result axes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">is_list_like</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sec_true</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_y</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_y</span>
            <span class="n">all_sec</span> <span class="o">=</span> <span class="p">(</span><span class="n">is_list_like</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_y</span><span class="p">)</span> <span class="ow">and</span>
                       <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_y</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nseries</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sec_true</span> <span class="ow">or</span> <span class="n">all_sec</span><span class="p">):</span>
                <span class="c1"># if all data is plotted on secondary, return right axes</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_ax_layer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">primary</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_compute_plot_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ABCSeries</span><span class="p">):</span>
            <span class="n">label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">label</span>
            <span class="k">if</span> <span class="n">label</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">data</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>

        <span class="c1"># GH16953, _convert is needed as fallback, for ``Series``</span>
        <span class="c1"># with ``dtype == object``</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">_convert</span><span class="p">(</span><span class="n">datetime</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timedelta</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">numeric_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
                                                   <span class="s2">&quot;datetime&quot;</span><span class="p">,</span>
                                                   <span class="s2">&quot;datetimetz&quot;</span><span class="p">,</span>
                                                   <span class="s2">&quot;timedelta&quot;</span><span class="p">])</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">is_empty</span> <span class="o">=</span> <span class="n">numeric_data</span><span class="o">.</span><span class="n">empty</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">is_empty</span> <span class="o">=</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">numeric_data</span><span class="p">)</span>

        <span class="c1"># no empty frames or series allowed</span>
        <span class="k">if</span> <span class="n">is_empty</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Empty </span><span class="si">{0!r}</span><span class="s1">: no numeric data to &#39;</span>
                            <span class="s1">&#39;plot&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">numeric_data</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">numeric_data</span>

    <span class="k">def</span> <span class="nf">_make_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">AbstractMethodError</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_ax</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">table</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_post_plot_logic_common</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Common post process for each axes&quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">get_label</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">pprint_thing</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;&#39;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="o">==</span> <span class="s1">&#39;vertical&#39;</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_need_to_set_index</span><span class="p">:</span>
                <span class="n">xticklabels</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_label</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xticks</span><span class="p">()]</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">xticklabels</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_apply_axis_properties</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rot</span><span class="p">,</span>
                                        <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontsize</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_apply_axis_properties</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontsize</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;right_ax&#39;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_apply_axis_properties</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">right_ax</span><span class="o">.</span><span class="n">yaxis</span><span class="p">,</span>
                                            <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontsize</span><span class="p">)</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="o">==</span> <span class="s1">&#39;horizontal&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_need_to_set_index</span><span class="p">:</span>
                <span class="n">yticklabels</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_label</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_yticks</span><span class="p">()]</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">yticklabels</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_apply_axis_properties</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rot</span><span class="p">,</span>
                                        <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontsize</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_apply_axis_properties</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontsize</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;right_ax&#39;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_apply_axis_properties</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">right_ax</span><span class="o">.</span><span class="n">yaxis</span><span class="p">,</span>
                                            <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fontsize</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># pragma no cover</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>

    <span class="k">def</span> <span class="nf">_post_plot_logic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Post process for each axes. Overridden in child classes&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_adorn_subplots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Common post process unrelated to data&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">all_axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_subplots</span><span class="p">()</span>
            <span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_axes_layout</span><span class="p">()</span>
            <span class="n">_handle_shared_axes</span><span class="p">(</span><span class="n">axarr</span><span class="o">=</span><span class="n">all_axes</span><span class="p">,</span> <span class="n">nplots</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">all_axes</span><span class="p">),</span>
                                <span class="n">naxes</span><span class="o">=</span><span class="n">nrows</span> <span class="o">*</span> <span class="n">ncols</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="n">nrows</span><span class="p">,</span>
                                <span class="n">ncols</span><span class="o">=</span><span class="n">ncols</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sharex</span><span class="p">,</span>
                                <span class="n">sharey</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sharey</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">yticks</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yticks</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xticks</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xticks</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ylim</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ylim</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xlim</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xlim</span><span class="p">)</span>

            <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">is_list_like</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nseries</span><span class="p">:</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;The length of `title` must equal the number &#39;</span>
                               <span class="s1">&#39;of columns if using `title` of type `list` &#39;</span>
                               <span class="s1">&#39;and `subplots=True`.</span><span class="se">\n</span><span class="s1">&#39;</span>
                               <span class="s1">&#39;length of title = </span><span class="si">{}</span><span class="se">\n</span><span class="s1">&#39;</span>
                               <span class="s1">&#39;number of columns = </span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">nseries</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

                    <span class="k">for</span> <span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">):</span>
                        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">is_list_like</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">):</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Using `title` of type `list` is not supported &#39;</span>
                           <span class="s1">&#39;unless `subplots=True` is passed&#39;</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_apply_axis_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="n">axis</span><span class="o">.</span><span class="n">get_majorticklabels</span><span class="p">()</span> <span class="o">+</span> <span class="n">axis</span><span class="o">.</span><span class="n">get_minorticklabels</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rot</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">label</span><span class="o">.</span><span class="n">set_rotation</span><span class="p">(</span><span class="n">rot</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">fontsize</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">label</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="n">fontsize</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">legend_title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">ABCMultiIndex</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">name</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">pprint_thing</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">stringified</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">pprint_thing</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">names</span><span class="p">)</span>
            <span class="k">return</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">stringified</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_legend_handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">handle</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mark_right</span> <span class="ow">and</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_right</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">label</span> <span class="o">+</span> <span class="s1">&#39; (right)&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">legend_handles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">handle</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">legend_labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_make_legend</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ax</span><span class="p">,</span> <span class="n">leg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_ax_legend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="n">handles</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">leg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">title</span> <span class="o">=</span> <span class="n">leg</span><span class="o">.</span><span class="n">get_title</span><span class="p">()</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
                <span class="n">handles</span> <span class="o">=</span> <span class="n">leg</span><span class="o">.</span><span class="n">legendHandles</span>
                <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">leg</span><span class="o">.</span><span class="n">get_texts</span><span class="p">()]</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">legend</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">legend</span> <span class="o">==</span> <span class="s1">&#39;reverse&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">legend_handles</span> <span class="o">=</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">legend_handles</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">legend_labels</span> <span class="o">=</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">legend_labels</span><span class="p">)</span>

                <span class="n">handles</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">legend_handles</span>
                <span class="n">labels</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">legend_labels</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">legend_title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">legend_title</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">handles</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">legend</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_visible</span><span class="p">():</span>
                    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_ax_legend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
        <span class="n">leg</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span>
        <span class="n">other_ax</span> <span class="o">=</span> <span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;left_ax&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span>
                    <span class="nb">getattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;right_ax&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="n">other_leg</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">other_ax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">other_leg</span> <span class="o">=</span> <span class="n">other_ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">leg</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">other_leg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">leg</span> <span class="o">=</span> <span class="n">other_leg</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">other_ax</span>
        <span class="k">return</span> <span class="n">ax</span><span class="p">,</span> <span class="n">leg</span>

    <span class="nd">@cache_readonly</span>
    <span class="k">def</span> <span class="nf">plt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
        <span class="k">return</span> <span class="n">plt</span>

    <span class="n">_need_to_set_index</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_get_xticks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">convert_period</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">index</span>
        <span class="n">is_datetype</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">inferred_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span>
                                              <span class="s1">&#39;datetime64&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_index</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">convert_period</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">ABCPeriodIndex</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="o">.</span><span class="n">sort_values</span><span class="p">())</span>
                <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">()</span><span class="o">.</span><span class="n">_mpl_repr</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">index</span><span class="o">.</span><span class="n">is_numeric</span><span class="p">():</span>
                <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                Matplotlib supports numeric values or datetime objects as</span>
<span class="sd">                xaxis values. Taking LBYL approach here, by the time</span>
<span class="sd">                matplotlib raises exception when using non numeric/datetime</span>
<span class="sd">                values for xaxis, several actions are already taken by plt.</span>
<span class="sd">                &quot;&quot;&quot;</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">_mpl_repr</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">is_datetype</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">notna</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
                <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">_mpl_repr</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_need_to_set_index</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">lrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">lrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">x</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_plot</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">is_errorbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="n">isna</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mask</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">masked_where</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">ABCIndexClass</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">_mpl_repr</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">is_errorbar</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;xerr&#39;</span> <span class="ow">in</span> <span class="n">kwds</span><span class="p">:</span>
                <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;xerr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;xerr&#39;</span><span class="p">))</span>
            <span class="k">if</span> <span class="s1">&#39;yerr&#39;</span> <span class="ow">in</span> <span class="n">kwds</span><span class="p">:</span>
                <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;yerr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;yerr&#39;</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">ax</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># prevent style kwarg from going to errorbar, where it is</span>
            <span class="c1"># unsupported</span>
            <span class="k">if</span> <span class="n">style</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_index_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">ABCMultiIndex</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span>
            <span class="k">if</span> <span class="n">com</span><span class="o">.</span><span class="n">_any_not_none</span><span class="p">(</span><span class="o">*</span><span class="n">name</span><span class="p">):</span>
                <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">pprint_thing</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">name</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_ax_layer</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">primary</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;get left (primary) or right (secondary) axes&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">primary</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;left_ax&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;right_ax&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_ax</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="c1"># get the twinx ax if appropriate</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span><span class="p">:</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maybe_right_yaxis</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maybe_right_yaxis</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ax</span>

    <span class="k">def</span> <span class="nf">on_right</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_y</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_y</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_y</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span>
                                         <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">ABCIndexClass</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_y</span>

    <span class="k">def</span> <span class="nf">_apply_style_colors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">kwds</span><span class="p">,</span> <span class="n">col_num</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Manage style and color based on column number and its label.</span>
<span class="sd">        Returns tuple of appropriate style and kwds which &quot;color&quot; may be added.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">style</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">[</span><span class="n">col_num</span><span class="p">]</span>
                <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">style</span>

        <span class="n">has_color</span> <span class="o">=</span> <span class="s1">&#39;color&#39;</span> <span class="ow">in</span> <span class="n">kwds</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">colormap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">nocolor_style</span> <span class="o">=</span> <span class="n">style</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;[a-z]+&#39;</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">has_color</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span><span class="p">)</span> <span class="ow">and</span> <span class="n">nocolor_style</span><span class="p">:</span>
            <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="n">col_num</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">style</span><span class="p">,</span> <span class="n">kwds</span>

    <span class="k">def</span> <span class="nf">_get_colors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color_kwds</span><span class="o">=</span><span class="s1">&#39;color&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">num_colors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">num_colors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nseries</span>

        <span class="k">return</span> <span class="n">_get_standard_colors</span><span class="p">(</span><span class="n">num_colors</span><span class="o">=</span><span class="n">num_colors</span><span class="p">,</span>
                                    <span class="n">colormap</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">colormap</span><span class="p">,</span>
                                    <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">color_kwds</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_parse_errorbars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">err</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Look for error keyword arguments and return the actual errorbar data</span>
<span class="sd">        or return the error DataFrame/dict</span>

<span class="sd">        Error bars can be specified in several ways:</span>
<span class="sd">            Series: the user provides a pandas.Series object of the same</span>
<span class="sd">                    length as the data</span>
<span class="sd">            ndarray: provides a np.ndarray of the same length as the data</span>
<span class="sd">            DataFrame/dict: error values are paired with keys matching the</span>
<span class="sd">                    key in the plotted DataFrame</span>
<span class="sd">            str: the name of the column within the plotted DataFrame</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">err</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">def</span> <span class="nf">match_labels</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">e</span>

        <span class="c1"># key-matched DataFrame</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">ABCDataFrame</span><span class="p">):</span>

            <span class="n">err</span> <span class="o">=</span> <span class="n">match_labels</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
        <span class="c1"># key-matched dict</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">pass</span>

        <span class="c1"># Series of error values</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">ABCSeries</span><span class="p">):</span>
            <span class="c1"># broadcast error series across data</span>
            <span class="n">err</span> <span class="o">=</span> <span class="n">match_labels</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nseries</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

        <span class="c1"># errors are a column in the dataframe</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
            <span class="n">evalues</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">err</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">err</span><span class="p">)]</span>
            <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="n">evalues</span><span class="p">)</span>
            <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nseries</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

        <span class="k">elif</span> <span class="n">is_list_like</span><span class="p">(</span><span class="n">err</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">is_iterator</span><span class="p">(</span><span class="n">err</span><span class="p">):</span>
                <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># raw error values</span>
                <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>

            <span class="n">err_shape</span> <span class="o">=</span> <span class="n">err</span><span class="o">.</span><span class="n">shape</span>

            <span class="c1"># asymmetrical error bars</span>
            <span class="k">if</span> <span class="n">err</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">err_shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nseries</span><span class="p">)</span> <span class="ow">or</span> \
                        <span class="p">(</span><span class="n">err_shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">)</span> <span class="ow">or</span> \
                        <span class="p">(</span><span class="n">err_shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)):</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Asymmetrical error bars should be provided &quot;</span> <span class="o">+</span> \
                        <span class="s2">&quot;with the shape (</span><span class="si">%u</span><span class="s2">, 2, </span><span class="si">%u</span><span class="s2">)&quot;</span> <span class="o">%</span> \
                        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nseries</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="c1"># broadcast errors to each data series</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nseries</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

        <span class="k">elif</span> <span class="n">is_number</span><span class="p">(</span><span class="n">err</span><span class="p">):</span>
            <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">([</span><span class="n">err</span><span class="p">],</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nseries</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)))</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No valid </span><span class="si">{label}</span><span class="s2"> detected&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">err</span>

    <span class="k">def</span> <span class="nf">_get_errorbars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xerr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">errors</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">kw</span><span class="p">,</span> <span class="n">flag</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="s1">&#39;xerr&#39;</span><span class="p">,</span> <span class="s1">&#39;yerr&#39;</span><span class="p">],</span> <span class="p">[</span><span class="n">xerr</span><span class="p">,</span> <span class="n">yerr</span><span class="p">]):</span>
            <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
                <span class="n">err</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="n">kw</span><span class="p">]</span>
                <span class="c1"># user provided label-matched dataframe of errors</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="p">(</span><span class="n">ABCDataFrame</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="n">label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">err</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="n">err</span> <span class="o">=</span> <span class="n">err</span><span class="p">[</span><span class="n">label</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">err</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">elif</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">err</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">err</span> <span class="o">=</span> <span class="n">err</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">err</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">errors</span><span class="p">[</span><span class="n">kw</span><span class="p">]</span> <span class="o">=</span> <span class="n">err</span>
        <span class="k">return</span> <span class="n">errors</span>

    <span class="k">def</span> <span class="nf">_get_subplots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">matplotlib.axes</span> <span class="k">import</span> <span class="n">Subplot</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">ax</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span><span class="o">.</span><span class="n">get_axes</span><span class="p">()</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">Subplot</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">_get_axes_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_subplots</span><span class="p">()</span>
        <span class="n">x_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">y_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">:</span>
            <span class="c1"># check axes coordinates to estimate layout</span>
            <span class="n">points</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span><span class="o">.</span><span class="n">get_points</span><span class="p">()</span>
            <span class="n">x_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">y_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y_set</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">x_set</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">PlanePlot</span><span class="p">(</span><span class="n">MPLPlot</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract class for plotting on plane, currently scatter and hexbin.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_layout_type</span> <span class="o">=</span> <span class="s1">&#39;single&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">MPLPlot</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">y</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind</span> <span class="o">+</span> <span class="s1">&#39; requires an x and y column&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">holds_integer</span><span class="p">():</span>
            <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">x</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">holds_integer</span><span class="p">():</span>
            <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">y</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">_get_numeric_data</span><span class="p">())</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind</span> <span class="o">+</span> <span class="s1">&#39; requires x column to be numeric&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">_get_numeric_data</span><span class="p">())</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind</span> <span class="o">+</span> <span class="s1">&#39; requires y column to be numeric&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">nseries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">_post_plot_logic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_plot_colorbar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="c1"># Addresses issues #10611 and #10678:</span>
        <span class="c1"># When plotting scatterplots and hexbinplots in IPython</span>
        <span class="c1"># inline backend the colorbar axis height tends not to</span>
        <span class="c1"># exactly match the parent axis height.</span>
        <span class="c1"># The difference is due to small fractional differences</span>
        <span class="c1"># in floating points with similar representation.</span>
        <span class="c1"># To deal with this, this method forces the colorbar</span>
        <span class="c1"># height to take the height of the parent axes.</span>
        <span class="c1"># For a more detailed description of the issue</span>
        <span class="c1"># see the following link:</span>
        <span class="c1"># https://github.com/ipython/ipython/issues/11215</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">cbar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">_mpl_ge_3_0_0</span><span class="p">():</span>
            <span class="c1"># The workaround below is no longer necessary.</span>
            <span class="k">return</span>

        <span class="n">points</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span><span class="o">.</span><span class="n">get_points</span><span class="p">()</span>
        <span class="n">cbar_points</span> <span class="o">=</span> <span class="n">cbar</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span><span class="o">.</span><span class="n">get_points</span><span class="p">()</span>

        <span class="n">cbar</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_position</span><span class="p">([</span><span class="n">cbar_points</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                              <span class="n">points</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
                              <span class="n">cbar_points</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">cbar_points</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                              <span class="n">points</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">points</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
        <span class="c1"># To see the discrepancy in axis heights uncomment</span>
        <span class="c1"># the following two lines:</span>
        <span class="c1"># print(points[1, 1] - points[0, 1])</span>
        <span class="c1"># print(cbar_points[1, 1] - cbar_points[0, 1])</span>


<span class="k">class</span> <span class="nc">ScatterPlot</span><span class="p">(</span><span class="n">PlanePlot</span><span class="p">):</span>
    <span class="n">_kind</span> <span class="o">=</span> <span class="s1">&#39;scatter&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">s</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># hide the matplotlib default for size, in case we want to change</span>
            <span class="c1"># the handling of this argument later</span>
            <span class="n">s</span> <span class="o">=</span> <span class="mi">20</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ScatterPlot</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">holds_integer</span><span class="p">():</span>
            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">c</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">c</span>

    <span class="k">def</span> <span class="nf">_make_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">c_is_column</span> <span class="o">=</span> <span class="n">is_hashable</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="ow">and</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span>

        <span class="c1"># plot a colorbar only if a colormap is provided or necessary</span>
        <span class="n">cb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;colorbar&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">colormap</span> <span class="ow">or</span> <span class="n">c_is_column</span><span class="p">)</span>

        <span class="c1"># pandas uses colormap, matplotlib uses cmap.</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">colormap</span> <span class="ow">or</span> <span class="s1">&#39;Greys&#39;</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
        <span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">c</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">color</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Specify exactly one of `c` and `color`&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">color</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">c_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;patch.facecolor&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">c_values</span> <span class="o">=</span> <span class="n">color</span>
        <span class="k">elif</span> <span class="n">c_is_column</span><span class="p">:</span>
            <span class="n">c_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">c_values</span> <span class="o">=</span> <span class="n">c</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">legend</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">):</span>
            <span class="n">label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">label</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">scatter</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">c_values</span><span class="p">,</span>
                             <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cb</span><span class="p">:</span>
            <span class="n">cbar_label</span> <span class="o">=</span> <span class="n">c</span> <span class="k">if</span> <span class="n">c_is_column</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_plot_colorbar</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">cbar_label</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_legend_handle</span><span class="p">(</span><span class="n">scatter</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">legend</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">errors_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_errorbars</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">errors_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_errorbars</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xerr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors_x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors_y</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">err_kwds</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">errors_x</span><span class="p">,</span> <span class="o">**</span><span class="n">errors_y</span><span class="p">)</span>
            <span class="n">err_kwds</span><span class="p">[</span><span class="s1">&#39;ecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scatter</span><span class="o">.</span><span class="n">get_facecolor</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
                        <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">err_kwds</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">HexBinPlot</span><span class="p">(</span><span class="n">PlanePlot</span><span class="p">):</span>
    <span class="n">_kind</span> <span class="o">=</span> <span class="s1">&#39;hexbin&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">HexBinPlot</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">C</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">holds_integer</span><span class="p">():</span>
            <span class="n">C</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">C</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">C</span> <span class="o">=</span> <span class="n">C</span>

    <span class="k">def</span> <span class="nf">_make_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">C</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># pandas uses colormap, matplotlib uses cmap.</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">colormap</span> <span class="ow">or</span> <span class="s1">&#39;BuGn&#39;</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
        <span class="n">cb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;colorbar&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">C</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">c_values</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">c_values</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">C</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">hexbin</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="n">c_values</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span>
                  <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cb</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_plot_colorbar</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_make_legend</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>


<span class="k">class</span> <span class="nc">LinePlot</span><span class="p">(</span><span class="n">MPLPlot</span><span class="p">):</span>
    <span class="n">_kind</span> <span class="o">=</span> <span class="s1">&#39;line&#39;</span>
    <span class="n">_default_rot</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">orientation</span> <span class="o">=</span> <span class="s1">&#39;vertical&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">MPLPlot</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stacked</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x_compat</span> <span class="o">=</span> <span class="n">plot_params</span><span class="p">[</span><span class="s1">&#39;x_compat&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;x_compat&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x_compat</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;x_compat&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_is_ts_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># this is slightly deceptive</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_compat</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_index</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_use_dynamic_x</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_use_dynamic_x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">pandas.plotting._timeseries</span> <span class="k">import</span> <span class="n">_use_dynamic_x</span>
        <span class="k">return</span> <span class="n">_use_dynamic_x</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_ax</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_make_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_ts_plot</span><span class="p">():</span>
            <span class="kn">from</span> <span class="nn">pandas.plotting._timeseries</span> <span class="k">import</span> <span class="n">_maybe_convert_index</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">_maybe_convert_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_ax</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

            <span class="n">x</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span>      <span class="c1"># dummy, not used</span>
            <span class="n">plotf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ts_plot</span>
            <span class="n">it</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_data</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">keep_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_xticks</span><span class="p">(</span><span class="n">convert_period</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">plotf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plot</span>
            <span class="n">it</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_data</span><span class="p">()</span>

        <span class="n">stacking_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_stacking_id</span><span class="p">()</span>
        <span class="n">is_errorbar</span> <span class="o">=</span> <span class="n">com</span><span class="o">.</span><span class="n">_any_not_none</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

        <span class="n">colors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_colors</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">it</span><span class="p">):</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_ax</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">kwds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">style</span><span class="p">,</span> <span class="n">kwds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_style_colors</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">kwds</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>

            <span class="n">errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_errorbars</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
            <span class="n">kwds</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">kwds</span><span class="p">,</span> <span class="o">**</span><span class="n">errors</span><span class="p">)</span>

            <span class="n">label</span> <span class="o">=</span> <span class="n">pprint_thing</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>  <span class="c1"># .encode(&#39;utf-8&#39;)</span>
            <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>

            <span class="n">newlines</span> <span class="o">=</span> <span class="n">plotf</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">column_num</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
                             <span class="n">stacking_id</span><span class="o">=</span><span class="n">stacking_id</span><span class="p">,</span>
                             <span class="n">is_errorbar</span><span class="o">=</span><span class="n">is_errorbar</span><span class="p">,</span>
                             <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_legend_handle</span><span class="p">(</span><span class="n">newlines</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">label</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>

            <span class="n">lines</span> <span class="o">=</span> <span class="n">_get_all_lines</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
            <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">_get_xlim</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_plot</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">column_num</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
              <span class="n">stacking_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="c1"># column_num is used to get the target column from protf in line and</span>
        <span class="c1"># area plots</span>
        <span class="k">if</span> <span class="n">column_num</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_initialize_stacker</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
        <span class="n">y_values</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_stacked_values</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">])</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">MPLPlot</span><span class="o">.</span><span class="n">_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y_values</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_update_stacker</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">lines</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_ts_plot</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">pandas.plotting._timeseries</span> <span class="k">import</span> <span class="p">(</span><span class="n">_maybe_resample</span><span class="p">,</span>
                                                 <span class="n">_decorate_axes</span><span class="p">,</span>
                                                 <span class="n">format_dateaxis</span><span class="p">)</span>
        <span class="c1"># accept x to be consistent with normal plot func,</span>
        <span class="c1"># x is not passed to tsplot as it uses data.index as x coordinate</span>
        <span class="c1"># column_num must be in kwds for stacking purpose</span>
        <span class="n">freq</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">_maybe_resample</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>

        <span class="c1"># Set ax with freq info</span>
        <span class="n">_decorate_axes</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">freq</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>
        <span class="c1"># digging deeper</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;left_ax&#39;</span><span class="p">):</span>
            <span class="n">_decorate_axes</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">left_ax</span><span class="p">,</span> <span class="n">freq</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;right_ax&#39;</span><span class="p">):</span>
            <span class="n">_decorate_axes</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">right_ax</span><span class="p">,</span> <span class="n">freq</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">_plot_data</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">data</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_kind</span><span class="p">,</span> <span class="n">kwds</span><span class="p">))</span>

        <span class="n">lines</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
        <span class="c1"># set date formatter, locators and rescale limits</span>
        <span class="n">format_dateaxis</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">ax</span><span class="o">.</span><span class="n">freq</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">lines</span>

    <span class="k">def</span> <span class="nf">_get_stacking_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stacked</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_initialize_stacker</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">stacking_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;_stacker_pos_prior&#39;</span><span class="p">):</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">_stacker_pos_prior</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;_stacker_neg_prior&#39;</span><span class="p">):</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">_stacker_neg_prior</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">_stacker_pos_prior</span><span class="p">[</span><span class="n">stacking_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">_stacker_neg_prior</span><span class="p">[</span><span class="n">stacking_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_stacked_values</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">stacking_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;_stacker_pos_prior&#39;</span><span class="p">):</span>
            <span class="c1"># stacker may not be initialized for subplots</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_initialize_stacker</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">))</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">values</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">ax</span><span class="o">.</span><span class="n">_stacker_pos_prior</span><span class="p">[</span><span class="n">stacking_id</span><span class="p">]</span> <span class="o">+</span> <span class="n">values</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">values</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">ax</span><span class="o">.</span><span class="n">_stacker_neg_prior</span><span class="p">[</span><span class="n">stacking_id</span><span class="p">]</span> <span class="o">+</span> <span class="n">values</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;When stacked is True, each column must be either &#39;</span>
                         <span class="s1">&#39;all positive or negative.&#39;</span>
                         <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> contains both positive and negative values&#39;</span>
                         <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">label</span><span class="p">))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_update_stacker</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">stacking_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">values</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">_stacker_pos_prior</span><span class="p">[</span><span class="n">stacking_id</span><span class="p">]</span> <span class="o">+=</span> <span class="n">values</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">values</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">_stacker_neg_prior</span><span class="p">[</span><span class="n">stacking_id</span><span class="p">]</span> <span class="o">+=</span> <span class="n">values</span>

    <span class="k">def</span> <span class="nf">_post_plot_logic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">condition</span> <span class="o">=</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_use_dynamic_x</span><span class="p">()</span> <span class="ow">and</span>
                     <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">is_all_dates</span> <span class="ow">and</span>
                     <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span> <span class="ow">or</span>
                     <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subplots</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">sharex</span><span class="p">))</span>

        <span class="n">index_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index_name</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">condition</span><span class="p">:</span>
            <span class="c1"># irregular TS rotated 30 deg. by default</span>
            <span class="c1"># probably a better place to check / set this.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rot_set</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rot</span> <span class="o">=</span> <span class="mi">30</span>
            <span class="n">format_date_labels</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rot</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">index_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_index</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">index_name</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">AreaPlot</span><span class="p">(</span><span class="n">LinePlot</span><span class="p">):</span>
    <span class="n">_kind</span> <span class="o">=</span> <span class="s1">&#39;area&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;stacked&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">LinePlot</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">stacked</span><span class="p">:</span>
            <span class="c1"># use smaller alpha to distinguish overlap</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;alpha&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">logy</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">loglog</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Log-y scales are not supported in area plot&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_plot</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">column_num</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
              <span class="n">stacking_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">is_errorbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">column_num</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_initialize_stacker</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
        <span class="n">y_values</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_stacked_values</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">])</span>

        <span class="c1"># need to remove label, because subplots uses mpl legend as it is</span>
        <span class="n">line_kwds</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">line_kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="p">)</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">MPLPlot</span><span class="o">.</span><span class="n">_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y_values</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="o">**</span><span class="n">line_kwds</span><span class="p">)</span>

        <span class="c1"># get data from the line to get coordinates for fill_between</span>
        <span class="n">xdata</span><span class="p">,</span> <span class="n">y_values</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">orig</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># unable to use ``_get_stacked_values`` here to get starting point</span>
        <span class="k">if</span> <span class="n">stacking_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">y</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">_stacker_pos_prior</span><span class="p">[</span><span class="n">stacking_id</span><span class="p">]</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">_stacker_neg_prior</span><span class="p">[</span><span class="n">stacking_id</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>

        <span class="k">if</span> <span class="s1">&#39;color&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwds</span><span class="p">:</span>
            <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_color</span><span class="p">()</span>

        <span class="n">rect</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">y_values</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_update_stacker</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="c1"># LinePlot expects list of artists</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[</span><span class="n">rect</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">_post_plot_logic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">LinePlot</span><span class="o">.</span><span class="n">_post_plot_logic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ylim</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">data</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">data</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">BarPlot</span><span class="p">(</span><span class="n">MPLPlot</span><span class="p">):</span>
    <span class="n">_kind</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
    <span class="n">_default_rot</span> <span class="o">=</span> <span class="mi">90</span>
    <span class="n">orientation</span> <span class="o">=</span> <span class="s1">&#39;vertical&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># we have to treat a series differently than a</span>
        <span class="c1"># 1-column DataFrame w.r.t. color handling</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_series</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ABCSeries</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bar_width</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;position&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;align&#39;</span><span class="p">,</span> <span class="s1">&#39;center&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tick_pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">MPLPlot</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stacked</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tickoffset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_width</span> <span class="o">*</span> <span class="n">pos</span>
            <span class="k">if</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;align&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;edge&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lim_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_width</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lim_offset</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;align&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;edge&#39;</span><span class="p">:</span>
                <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">nseries</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tickoffset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_width</span> <span class="o">*</span> <span class="p">(</span><span class="n">pos</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">+</span> <span class="n">w</span> <span class="o">*</span> <span class="mf">0.5</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lim_offset</span> <span class="o">=</span> <span class="n">w</span> <span class="o">*</span> <span class="mf">0.5</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tickoffset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_width</span> <span class="o">*</span> <span class="n">pos</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lim_offset</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ax_pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tick_pos</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">tickoffset</span>

    <span class="k">def</span> <span class="nf">_args_adjust</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_list_like</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_list_like</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_plot</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="n">log</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_start_base</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span>

    <span class="k">def</span> <span class="nf">_make_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>

        <span class="n">colors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_colors</span><span class="p">()</span>
        <span class="n">ncolors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>

        <span class="n">pos_prior</span> <span class="o">=</span> <span class="n">neg_prior</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
        <span class="n">K</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nseries</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iter_data</span><span class="p">(</span><span class="n">fillna</span><span class="o">=</span><span class="mi">0</span><span class="p">)):</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_ax</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">kwds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_series</span><span class="p">:</span>
                <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colors</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="n">ncolors</span><span class="p">]</span>

            <span class="n">errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_errorbars</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
            <span class="n">kwds</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">kwds</span><span class="p">,</span> <span class="o">**</span><span class="n">errors</span><span class="p">)</span>

            <span class="n">label</span> <span class="o">=</span> <span class="n">pprint_thing</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">((</span><span class="s1">&#39;yerr&#39;</span> <span class="ow">in</span> <span class="n">kwds</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="s1">&#39;xerr&#39;</span> <span class="ow">in</span> <span class="n">kwds</span><span class="p">))</span> \
                    <span class="ow">and</span> <span class="p">(</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ecolor&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
                <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;ecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;xtick.color&#39;</span><span class="p">]</span>

            <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="ow">and</span> <span class="p">(</span><span class="n">y</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
                <span class="n">start</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_base</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span><span class="p">:</span>
                <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_width</span> <span class="o">/</span> <span class="mi">2</span>
                <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_pos</span> <span class="o">+</span> <span class="n">w</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_width</span><span class="p">,</span>
                                  <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
                                  <span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">stacked</span><span class="p">:</span>
                <span class="n">mask</span> <span class="o">=</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">pos_prior</span><span class="p">,</span> <span class="n">neg_prior</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_base</span>
                <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_width</span> <span class="o">/</span> <span class="mi">2</span>
                <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_pos</span> <span class="o">+</span> <span class="n">w</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_width</span><span class="p">,</span>
                                  <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
                                  <span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
                <span class="n">pos_prior</span> <span class="o">=</span> <span class="n">pos_prior</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">neg_prior</span> <span class="o">=</span> <span class="n">neg_prior</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_width</span> <span class="o">/</span> <span class="n">K</span>
                <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_pos</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">*</span> <span class="n">w</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span>
                                  <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
                                  <span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_legend_handle</span><span class="p">(</span><span class="n">rect</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_post_plot_logic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_index</span><span class="p">:</span>
            <span class="n">str_index</span> <span class="o">=</span> <span class="p">[</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">str_index</span> <span class="o">=</span> <span class="p">[</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index_name</span><span class="p">()</span>

        <span class="n">s_edge</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mf">0.25</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lim_offset</span>
        <span class="n">e_edge</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_pos</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.25</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_width</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lim_offset</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_decorate_ticks</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">str_index</span><span class="p">,</span> <span class="n">s_edge</span><span class="p">,</span> <span class="n">e_edge</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_decorate_ticks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">ticklabels</span><span class="p">,</span> <span class="n">start_edge</span><span class="p">,</span> <span class="n">end_edge</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">((</span><span class="n">start_edge</span><span class="p">,</span> <span class="n">end_edge</span><span class="p">))</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tick_pos</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">ticklabels</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_index</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">BarhPlot</span><span class="p">(</span><span class="n">BarPlot</span><span class="p">):</span>
    <span class="n">_kind</span> <span class="o">=</span> <span class="s1">&#39;barh&#39;</span>
    <span class="n">_default_rot</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">orientation</span> <span class="o">=</span> <span class="s1">&#39;horizontal&#39;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_start_base</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">left</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_plot</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ax</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="n">log</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_decorate_ticks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">ticklabels</span><span class="p">,</span> <span class="n">start_edge</span><span class="p">,</span> <span class="n">end_edge</span><span class="p">):</span>
        <span class="c1"># horizontal bars</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">((</span><span class="n">start_edge</span><span class="p">,</span> <span class="n">end_edge</span><span class="p">))</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tick_pos</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">ticklabels</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_index</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">HistPlot</span><span class="p">(</span><span class="n">LinePlot</span><span class="p">):</span>
    <span class="n">_kind</span> <span class="o">=</span> <span class="s1">&#39;hist&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bins</span> <span class="o">=</span> <span class="n">bins</span>        <span class="c1"># use mpl default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">bottom</span>
        <span class="c1"># Do not call LinePlot.__init__ which may fill nan</span>
        <span class="n">MPLPlot</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_args_adjust</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="p">):</span>
            <span class="c1"># create common bin edge</span>
            <span class="n">values</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">_convert</span><span class="p">(</span><span class="n">datetime</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">_get_numeric_data</span><span class="p">())</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="o">~</span><span class="n">isna</span><span class="p">(</span><span class="n">values</span><span class="p">)]</span>

            <span class="n">hist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span>
                <span class="n">values</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="p">,</span>
                <span class="nb">range</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;range&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">weights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;weights&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">is_list_like</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_plot</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column_num</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
              <span class="n">stacking_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">column_num</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_initialize_stacker</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">bins</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="o">~</span><span class="n">isna</span><span class="p">(</span><span class="n">y</span><span class="p">)]</span>

        <span class="n">base</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bins</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">bottom</span> <span class="o">=</span> <span class="n">bottom</span> <span class="o">+</span> \
            <span class="bp">cls</span><span class="o">.</span><span class="n">_get_stacked_values</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">])</span>
        <span class="c1"># ignore style</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">patches</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="n">bottom</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_update_stacker</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">stacking_id</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">patches</span>

    <span class="k">def</span> <span class="nf">_make_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_colors</span><span class="p">()</span>
        <span class="n">stacking_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_stacking_id</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iter_data</span><span class="p">()):</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_ax</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

            <span class="n">kwds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

            <span class="n">label</span> <span class="o">=</span> <span class="n">pprint_thing</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
            <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>

            <span class="n">style</span><span class="p">,</span> <span class="n">kwds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_style_colors</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">kwds</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">style</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">style</span>

            <span class="n">kwds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_plot_keywords</span><span class="p">(</span><span class="n">kwds</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="n">artists</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">column_num</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
                                 <span class="n">stacking_id</span><span class="o">=</span><span class="n">stacking_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_legend_handle</span><span class="p">(</span><span class="n">artists</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">label</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_make_plot_keywords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwds</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;merge BoxPlot/KdePlot properties to passed kwds&quot;&quot;&quot;</span>
        <span class="c1"># y is required for KdePlot</span>
        <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span>
        <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;bins&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bins</span>
        <span class="k">return</span> <span class="n">kwds</span>

    <span class="k">def</span> <span class="nf">_post_plot_logic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="o">==</span> <span class="s1">&#39;horizontal&#39;</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">orientation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;orientation&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;horizontal&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;horizontal&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;vertical&#39;</span>


<span class="n">_kde_docstring</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Generate Kernel Density Estimate plot using Gaussian kernels.</span>

<span class="s2">        In statistics, `kernel density estimation`_ (KDE) is a non-parametric</span>
<span class="s2">        way to estimate the probability density function (PDF) of a random</span>
<span class="s2">        variable. This function uses Gaussian kernels and includes automatic</span>
<span class="s2">        bandwidth determination.</span>

<span class="s2">        .. _kernel density estimation:</span>
<span class="s2">            https://en.wikipedia.org/wiki/Kernel_density_estimation</span>

<span class="s2">        Parameters</span>
<span class="s2">        ----------</span>
<span class="s2">        bw_method : str, scalar or callable, optional</span>
<span class="s2">            The method used to calculate the estimator bandwidth. This can be</span>
<span class="s2">            &#39;scott&#39;, &#39;silverman&#39;, a scalar constant or a callable.</span>
<span class="s2">            If None (default), &#39;scott&#39; is used.</span>
<span class="s2">            See :class:`scipy.stats.gaussian_kde` for more information.</span>
<span class="s2">        ind : NumPy array or integer, optional</span>
<span class="s2">            Evaluation points for the estimated PDF. If None (default),</span>
<span class="s2">            1000 equally spaced points are used. If `ind` is a NumPy array, the</span>
<span class="s2">            KDE is evaluated at the points passed. If `ind` is an integer,</span>
<span class="s2">            `ind` number of equally spaced points are used.</span>
<span class="s2">        **kwds : optional</span>
<span class="s2">            Additional keyword arguments are documented in</span>
<span class="s2">            :meth:`pandas.%(this-datatype)s.plot`.</span>

<span class="s2">        Returns</span>
<span class="s2">        -------</span>
<span class="s2">        axes : matplotlib.axes.Axes or numpy.ndarray of them</span>

<span class="s2">        See Also</span>
<span class="s2">        --------</span>
<span class="s2">        scipy.stats.gaussian_kde : Representation of a kernel-density</span>
<span class="s2">            estimate using Gaussian kernels. This is the function used</span>
<span class="s2">            internally to estimate the PDF.</span>
<span class="s2">        %(sibling-datatype)s.plot.kde : Generate a KDE plot for a</span>
<span class="s2">            %(sibling-datatype)s.</span>

<span class="s2">        Examples</span>
<span class="s2">        --------</span>
<span class="s2">        </span><span class="si">%(examples)s</span><span class="s2"></span>
<span class="s2">        &quot;&quot;&quot;</span>


<span class="k">class</span> <span class="nc">KdePlot</span><span class="p">(</span><span class="n">HistPlot</span><span class="p">):</span>
    <span class="n">_kind</span> <span class="o">=</span> <span class="s1">&#39;kde&#39;</span>
    <span class="n">orientation</span> <span class="o">=</span> <span class="s1">&#39;vertical&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">bw_method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ind</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">MPLPlot</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bw_method</span> <span class="o">=</span> <span class="n">bw_method</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ind</span> <span class="o">=</span> <span class="n">ind</span>

    <span class="k">def</span> <span class="nf">_args_adjust</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_get_ind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ind</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># np.nanmax() and np.nanmin() ignores the missing values</span>
            <span class="n">sample_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
            <span class="n">ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">sample_range</span><span class="p">,</span>
                              <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">sample_range</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">is_integer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ind</span><span class="p">):</span>
            <span class="n">sample_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
            <span class="n">ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">sample_range</span><span class="p">,</span>
                              <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">sample_range</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ind</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ind</span>
        <span class="k">return</span> <span class="n">ind</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_plot</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bw_method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ind</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
              <span class="n">column_num</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stacking_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="k">import</span> <span class="n">gaussian_kde</span>
        <span class="kn">from</span> <span class="nn">scipy</span> <span class="k">import</span> <span class="n">__version__</span> <span class="k">as</span> <span class="n">spv</span>

        <span class="n">y</span> <span class="o">=</span> <span class="n">remove_na_arraylike</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">LooseVersion</span><span class="p">(</span><span class="n">spv</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="s1">&#39;0.11.0&#39;</span><span class="p">:</span>
            <span class="n">gkde</span> <span class="o">=</span> <span class="n">gaussian_kde</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">bw_method</span><span class="o">=</span><span class="n">bw_method</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">gkde</span> <span class="o">=</span> <span class="n">gaussian_kde</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">bw_method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;bw_method was added in Scipy 0.11.0.&#39;</span> <span class="o">+</span>
                       <span class="s1">&#39; Scipy version in use is </span><span class="si">{spv}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">spv</span><span class="o">=</span><span class="n">spv</span><span class="p">))</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">y</span> <span class="o">=</span> <span class="n">gkde</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">MPLPlot</span><span class="o">.</span><span class="n">_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">ind</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">lines</span>

    <span class="k">def</span> <span class="nf">_make_plot_keywords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwds</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;bw_method&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bw_method</span>
        <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;ind&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_ind</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">kwds</span>

    <span class="k">def</span> <span class="nf">_post_plot_logic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Density&#39;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">PiePlot</span><span class="p">(</span><span class="n">MPLPlot</span><span class="p">):</span>
    <span class="n">_kind</span> <span class="o">=</span> <span class="s1">&#39;pie&#39;</span>
    <span class="n">_layout_type</span> <span class="o">=</span> <span class="s1">&#39;horizontal&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">data</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> doesn&#39;t allow negative values&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">kind</span><span class="p">))</span>
        <span class="n">MPLPlot</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_args_adjust</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logy</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logx</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loglog</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_validate_color_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_make_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_colors</span><span class="p">(</span>
            <span class="n">num_colors</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">),</span> <span class="n">color_kwds</span><span class="o">=</span><span class="s1">&#39;colors&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;colors&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iter_data</span><span class="p">()):</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_ax</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">label</span> <span class="o">=</span> <span class="n">pprint_thing</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>

            <span class="n">kwds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

            <span class="k">def</span> <span class="nf">blank_labeler</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span> <span class="s1">&#39;&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">label</span>

            <span class="n">idx</span> <span class="o">=</span> <span class="p">[</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;labels&#39;</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
            <span class="c1"># labels is used for each wedge&#39;s labels</span>
            <span class="c1"># Blank out labels for values of 0 so they don&#39;t overlap</span>
            <span class="c1"># with nonzero wedges</span>
            <span class="k">if</span> <span class="n">labels</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">blabels</span> <span class="o">=</span> <span class="p">[</span><span class="n">blank_labeler</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span>
                           <span class="n">l</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">y</span><span class="p">)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">blabels</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">results</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">blabels</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;autopct&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">patches</span><span class="p">,</span> <span class="n">texts</span><span class="p">,</span> <span class="n">autotexts</span> <span class="o">=</span> <span class="n">results</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">patches</span><span class="p">,</span> <span class="n">texts</span> <span class="o">=</span> <span class="n">results</span>
                <span class="n">autotexts</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fontsize</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">texts</span> <span class="o">+</span> <span class="n">autotexts</span><span class="p">:</span>
                    <span class="n">t</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontsize</span><span class="p">)</span>

            <span class="c1"># leglabels is used for legend labels</span>
            <span class="n">leglabels</span> <span class="o">=</span> <span class="n">labels</span> <span class="k">if</span> <span class="n">labels</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">idx</span>
            <span class="k">for</span> <span class="n">p</span><span class="p">,</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">patches</span><span class="p">,</span> <span class="n">leglabels</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_add_legend_handle</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">BoxPlot</span><span class="p">(</span><span class="n">LinePlot</span><span class="p">):</span>
    <span class="n">_kind</span> <span class="o">=</span> <span class="s1">&#39;box&#39;</span>
    <span class="n">_layout_type</span> <span class="o">=</span> <span class="s1">&#39;horizontal&#39;</span>

    <span class="n">_valid_return_types</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;axes&#39;</span><span class="p">,</span> <span class="s1">&#39;dict&#39;</span><span class="p">,</span> <span class="s1">&#39;both&#39;</span><span class="p">)</span>
    <span class="c1"># namedtuple to hold results</span>
    <span class="n">BP</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s2">&quot;Boxplot&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;ax&#39;</span><span class="p">,</span> <span class="s1">&#39;lines&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s1">&#39;axes&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># Do not call LinePlot.__init__ which may fill nan</span>
        <span class="k">if</span> <span class="n">return_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_valid_return_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;return_type must be {None, &#39;axes&#39;, &#39;dict&#39;, &#39;both&#39;}&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">return_type</span> <span class="o">=</span> <span class="n">return_type</span>
        <span class="n">MPLPlot</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_args_adjust</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span><span class="p">:</span>
            <span class="c1"># Disable label ax sharing. Otherwise, all subplots shows last</span>
            <span class="c1"># column label</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="o">==</span> <span class="s1">&#39;vertical&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sharex</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sharey</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_plot</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">column_num</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s1">&#39;axes&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">y</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">remove_na_arraylike</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">y</span><span class="p">]</span>
            <span class="c1"># Boxplot fails with empty arrays, so need to add a NaN</span>
            <span class="c1">#   if any cols are empty</span>
            <span class="c1"># GH 8181</span>
            <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">y</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">remove_na_arraylike</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="n">bp</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">return_type</span> <span class="o">==</span> <span class="s1">&#39;dict&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bp</span><span class="p">,</span> <span class="n">bp</span>
        <span class="k">elif</span> <span class="n">return_type</span> <span class="o">==</span> <span class="s1">&#39;both&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">BP</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">lines</span><span class="o">=</span><span class="n">bp</span><span class="p">),</span> <span class="n">bp</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ax</span><span class="p">,</span> <span class="n">bp</span>

    <span class="k">def</span> <span class="nf">_validate_color_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="s1">&#39;color&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">colormap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;&#39;color&#39; and &#39;colormap&#39; cannot be used &quot;</span>
                              <span class="s2">&quot;simultaneously. Using &#39;color&#39;&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="n">valid_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;boxes&#39;</span><span class="p">,</span> <span class="s1">&#39;whiskers&#39;</span><span class="p">,</span> <span class="s1">&#39;medians&#39;</span><span class="p">,</span> <span class="s1">&#39;caps&#39;</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">compat</span><span class="o">.</span><span class="n">iteritems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_keys</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;color dict contains invalid &quot;</span>
                                         <span class="s2">&quot;key &#39;</span><span class="si">{0}</span><span class="s2">&#39; &quot;</span>
                                         <span class="s2">&quot;The key must be either </span><span class="si">{1}</span><span class="s2">&quot;</span>
                                         <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># get standard colors for default</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="n">_get_standard_colors</span><span class="p">(</span><span class="n">num_colors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                      <span class="n">colormap</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">colormap</span><span class="p">,</span>
                                      <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="c1"># use 2 colors by default, for box/whisker and median</span>
        <span class="c1"># flier colors isn&#39;t needed here</span>
        <span class="c1"># because it can be specified by ``sym`` kw</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_boxes_c</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_whiskers_c</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_medians_c</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_caps_c</span> <span class="o">=</span> <span class="s1">&#39;k&#39;</span>          <span class="c1"># mpl default</span>

    <span class="k">def</span> <span class="nf">_get_colors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color_kwds</span><span class="o">=</span><span class="s1">&#39;color&#39;</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">maybe_color_bp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bp</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">boxes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;boxes&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_boxes_c</span><span class="p">)</span>
            <span class="n">whiskers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;whiskers&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_whiskers_c</span><span class="p">)</span>
            <span class="n">medians</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;medians&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_medians_c</span><span class="p">)</span>
            <span class="n">caps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;caps&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_caps_c</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Other types are forwarded to matplotlib</span>
            <span class="c1"># If None, use default colors</span>
            <span class="n">boxes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_boxes_c</span>
            <span class="n">whiskers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_whiskers_c</span>
            <span class="n">medians</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_medians_c</span>
            <span class="n">caps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_caps_c</span>

        <span class="kn">from</span> <span class="nn">matplotlib.artist</span> <span class="k">import</span> <span class="n">setp</span>
        <span class="n">setp</span><span class="p">(</span><span class="n">bp</span><span class="p">[</span><span class="s1">&#39;boxes&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">boxes</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">setp</span><span class="p">(</span><span class="n">bp</span><span class="p">[</span><span class="s1">&#39;whiskers&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">whiskers</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">setp</span><span class="p">(</span><span class="n">bp</span><span class="p">[</span><span class="s1">&#39;medians&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">medians</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">setp</span><span class="p">(</span><span class="n">bp</span><span class="p">[</span><span class="s1">&#39;caps&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">caps</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_make_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subplots</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">pandas.core.series</span> <span class="k">import</span> <span class="n">Series</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_return_obj</span> <span class="o">=</span> <span class="n">Series</span><span class="p">()</span>

            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iter_data</span><span class="p">()):</span>
                <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_ax</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">kwds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

                <span class="n">ret</span><span class="p">,</span> <span class="n">bp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">column_num</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
                                     <span class="n">return_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">return_type</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">maybe_color_bp</span><span class="p">(</span><span class="n">bp</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_return_obj</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">ret</span>

                <span class="n">label</span> <span class="o">=</span> <span class="p">[</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">label</span><span class="p">)]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_set_ticklabels</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">T</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_ax</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">kwds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

            <span class="n">ret</span><span class="p">,</span> <span class="n">bp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">column_num</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                 <span class="n">return_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">return_type</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maybe_color_bp</span><span class="p">(</span><span class="n">bp</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_return_obj</span> <span class="o">=</span> <span class="n">ret</span>

            <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">l</span> <span class="k">for</span> <span class="n">l</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_data</span><span class="p">()]</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_index</span><span class="p">:</span>
                <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">labels</span><span class="p">))]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_ticklabels</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_ticklabels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">labels</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="o">==</span> <span class="s1">&#39;vertical&#39;</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_make_legend</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_post_plot_logic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">orientation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;vert&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;vertical&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;horizontal&#39;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">return_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">BoxPlot</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">result</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_return_obj</span>


<span class="c1"># kinds supported by both dataframe and series</span>
<span class="n">_common_kinds</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;barh&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;kde&#39;</span><span class="p">,</span> <span class="s1">&#39;density&#39;</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="p">,</span> <span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="s1">&#39;box&#39;</span><span class="p">]</span>
<span class="c1"># kinds supported by dataframe</span>
<span class="n">_dataframe_kinds</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="s1">&#39;hexbin&#39;</span><span class="p">]</span>
<span class="c1"># kinds supported only by series or dataframe single column</span>
<span class="n">_series_kinds</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pie&#39;</span><span class="p">]</span>
<span class="n">_all_kinds</span> <span class="o">=</span> <span class="n">_common_kinds</span> <span class="o">+</span> <span class="n">_dataframe_kinds</span> <span class="o">+</span> <span class="n">_series_kinds</span>

<span class="n">_klasses</span> <span class="o">=</span> <span class="p">[</span><span class="n">LinePlot</span><span class="p">,</span> <span class="n">BarPlot</span><span class="p">,</span> <span class="n">BarhPlot</span><span class="p">,</span> <span class="n">KdePlot</span><span class="p">,</span> <span class="n">HistPlot</span><span class="p">,</span> <span class="n">BoxPlot</span><span class="p">,</span>
            <span class="n">ScatterPlot</span><span class="p">,</span> <span class="n">HexBinPlot</span><span class="p">,</span> <span class="n">AreaPlot</span><span class="p">,</span> <span class="n">PiePlot</span><span class="p">]</span>

<span class="n">_plot_klass</span> <span class="o">=</span> <span class="p">{</span><span class="n">klass</span><span class="o">.</span><span class="n">_kind</span><span class="p">:</span> <span class="n">klass</span> <span class="k">for</span> <span class="n">klass</span> <span class="ow">in</span> <span class="n">_klasses</span><span class="p">}</span>


<span class="k">def</span> <span class="nf">_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
          <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="n">kind</span> <span class="o">=</span> <span class="n">_get_standard_kind</span><span class="p">(</span><span class="n">kind</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="ow">in</span> <span class="n">_all_kinds</span><span class="p">:</span>
        <span class="n">klass</span> <span class="o">=</span> <span class="n">_plot_klass</span><span class="p">[</span><span class="n">kind</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%r</span><span class="s2"> is not a valid plot kind&quot;</span> <span class="o">%</span> <span class="n">kind</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">kind</span> <span class="ow">in</span> <span class="n">_dataframe_kinds</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ABCDataFrame</span><span class="p">):</span>
            <span class="n">plot_obj</span> <span class="o">=</span> <span class="n">klass</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="n">subplots</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
                             <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;plot kind </span><span class="si">%r</span><span class="s2"> can only be used for data frames&quot;</span>
                             <span class="o">%</span> <span class="n">kind</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">kind</span> <span class="ow">in</span> <span class="n">_series_kinds</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ABCDataFrame</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">y</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">subplots</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> requires either y column or &#39;subplots=True&#39;&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">kind</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">y</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">holds_integer</span><span class="p">():</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">y</span><span class="p">]</span>
                <span class="c1"># converted to series actually. copy to not modify</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">plot_obj</span> <span class="o">=</span> <span class="n">klass</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="n">subplots</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ABCDataFrame</span><span class="p">):</span>
            <span class="n">data_cols</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span>
            <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">holds_integer</span><span class="p">():</span>
                    <span class="n">x</span> <span class="o">=</span> <span class="n">data_cols</span><span class="p">[</span><span class="n">x</span><span class="p">]</span>
                <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">ABCSeries</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;x must be a label or position&quot;</span><span class="p">)</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">y</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># check if we have y as int or list of ints</span>
                <span class="n">int_ylist</span> <span class="o">=</span> <span class="n">is_list_like</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="n">is_integer</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">y</span><span class="p">)</span>
                <span class="n">int_y_arg</span> <span class="o">=</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="ow">or</span> <span class="n">int_ylist</span>
                <span class="k">if</span> <span class="n">int_y_arg</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">holds_integer</span><span class="p">():</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="n">data_cols</span><span class="p">[</span><span class="n">y</span><span class="p">]</span>

                <span class="n">label_kw</span> <span class="o">=</span> <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;label&#39;</span> <span class="ow">in</span> <span class="n">kwds</span> <span class="k">else</span> <span class="kc">False</span>
                <span class="k">for</span> <span class="n">kw</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;xerr&#39;</span><span class="p">,</span> <span class="s1">&#39;yerr&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">kw</span> <span class="ow">in</span> <span class="n">kwds</span><span class="p">)</span> <span class="ow">and</span> \
                        <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">kwds</span><span class="p">[</span><span class="n">kw</span><span class="p">],</span> <span class="n">string_types</span><span class="p">)</span> <span class="ow">or</span>
                            <span class="n">is_integer</span><span class="p">(</span><span class="n">kwds</span><span class="p">[</span><span class="n">kw</span><span class="p">])):</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="n">kwds</span><span class="p">[</span><span class="n">kw</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">kwds</span><span class="p">[</span><span class="n">kw</span><span class="p">]]</span>
                        <span class="k">except</span> <span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="ne">KeyError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                            <span class="k">pass</span>

                <span class="c1"># don&#39;t overwrite</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ABCSeries</span><span class="p">):</span>
                    <span class="n">label_name</span> <span class="o">=</span> <span class="n">label_kw</span> <span class="ow">or</span> <span class="n">y</span>
                    <span class="n">data</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">label_name</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">match</span> <span class="o">=</span> <span class="n">is_list_like</span><span class="p">(</span><span class="n">label_kw</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">label_kw</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">label_kw</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="s2">&quot;label should be list-like and same length as y&quot;</span>
                        <span class="p">)</span>
                    <span class="n">label_name</span> <span class="o">=</span> <span class="n">label_kw</span> <span class="ow">or</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span>
                    <span class="n">data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">label_name</span>

        <span class="n">plot_obj</span> <span class="o">=</span> <span class="n">klass</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="n">subplots</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="n">plot_obj</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
    <span class="n">plot_obj</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">plot_obj</span><span class="o">.</span><span class="n">result</span>


<span class="n">df_kind</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;- &#39;scatter&#39; : scatter plot</span>
<span class="s2">        - &#39;hexbin&#39; : hexbin plot&quot;&quot;&quot;</span>
<span class="n">series_kind</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

<span class="n">df_coord</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;x : label or position, default None</span>
<span class="s2">    y : label, position or list of label, positions, default None</span>
<span class="s2">        Allows plotting of one column versus another&quot;&quot;&quot;</span>
<span class="n">series_coord</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

<span class="n">df_unique</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;stacked : boolean, default False in line and</span>
<span class="s2">        bar plots, and True in area plot. If True, create stacked plot.</span>
<span class="s2">    sort_columns : boolean, default False</span>
<span class="s2">        Sort column names to determine plot ordering</span>
<span class="s2">    secondary_y : boolean or sequence, default False</span>
<span class="s2">        Whether to plot on the secondary y-axis</span>
<span class="s2">        If a list/tuple, which columns to plot on secondary y-axis&quot;&quot;&quot;</span>
<span class="n">series_unique</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;label : label argument to provide to plot</span>
<span class="s2">    secondary_y : boolean or sequence of ints, default False</span>
<span class="s2">        If True then y-axis will be on the right&quot;&quot;&quot;</span>

<span class="n">df_ax</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;ax : matplotlib axes object, default None</span>
<span class="s2">    subplots : boolean, default False</span>
<span class="s2">        Make separate subplots for each column</span>
<span class="s2">    sharex : boolean, default True if ax is None else False</span>
<span class="s2">        In case subplots=True, share x axis and set some x axis labels to</span>
<span class="s2">        invisible; defaults to True if ax is None otherwise False if an ax</span>
<span class="s2">        is passed in; Be aware, that passing in both an ax and sharex=True</span>
<span class="s2">        will alter all x axis labels for all axis in a figure!</span>
<span class="s2">    sharey : boolean, default False</span>
<span class="s2">        In case subplots=True, share y axis and set some y axis labels to</span>
<span class="s2">        invisible</span>
<span class="s2">    layout : tuple (optional)</span>
<span class="s2">        (rows, columns) for the layout of subplots&quot;&quot;&quot;</span>
<span class="n">series_ax</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;ax : matplotlib axes object</span>
<span class="s2">        If not passed, uses gca()&quot;&quot;&quot;</span>

<span class="n">df_note</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;- If `kind` = &#39;scatter&#39; and the argument `c` is the name of a dataframe</span>
<span class="s2">      column, the values of that column are used to color each point.</span>
<span class="s2">    - If `kind` = &#39;hexbin&#39;, you can control the size of the bins with the</span>
<span class="s2">      `gridsize` argument. By default, a histogram of the counts around each</span>
<span class="s2">      `(x, y)` point is computed. You can specify alternative aggregations</span>
<span class="s2">      by passing values to the `C` and `reduce_C_function` arguments.</span>
<span class="s2">      `C` specifies the value at each `(x, y)` point and `reduce_C_function`</span>
<span class="s2">      is a function of one argument that reduces all the values in a bin to</span>
<span class="s2">      a single number (e.g. `mean`, `max`, `sum`, `std`).&quot;&quot;&quot;</span>
<span class="n">series_note</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

<span class="n">_shared_doc_df_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">klass</span><span class="o">=</span><span class="s1">&#39;DataFrame&#39;</span><span class="p">,</span> <span class="n">klass_obj</span><span class="o">=</span><span class="s1">&#39;df&#39;</span><span class="p">,</span>
                             <span class="n">klass_kind</span><span class="o">=</span><span class="n">df_kind</span><span class="p">,</span> <span class="n">klass_coord</span><span class="o">=</span><span class="n">df_coord</span><span class="p">,</span>
                             <span class="n">klass_ax</span><span class="o">=</span><span class="n">df_ax</span><span class="p">,</span> <span class="n">klass_unique</span><span class="o">=</span><span class="n">df_unique</span><span class="p">,</span>
                             <span class="n">klass_note</span><span class="o">=</span><span class="n">df_note</span><span class="p">)</span>
<span class="n">_shared_doc_series_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">klass</span><span class="o">=</span><span class="s1">&#39;Series&#39;</span><span class="p">,</span> <span class="n">klass_obj</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span>
                                 <span class="n">klass_kind</span><span class="o">=</span><span class="n">series_kind</span><span class="p">,</span>
                                 <span class="n">klass_coord</span><span class="o">=</span><span class="n">series_coord</span><span class="p">,</span> <span class="n">klass_ax</span><span class="o">=</span><span class="n">series_ax</span><span class="p">,</span>
                                 <span class="n">klass_unique</span><span class="o">=</span><span class="n">series_unique</span><span class="p">,</span>
                                 <span class="n">klass_note</span><span class="o">=</span><span class="n">series_note</span><span class="p">)</span>

<span class="n">_shared_docs</span><span class="p">[</span><span class="s1">&#39;plot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Make plots of </span><span class="si">%(klass)s</span><span class="s2"> using matplotlib / pylab.</span>

<span class="s2">    *New in version 0.17.0:* Each plot kind has a corresponding method on the</span>
<span class="s2">    ``</span><span class="si">%(klass)s</span><span class="s2">.plot`` accessor:</span>
<span class="s2">    ``</span><span class="si">%(klass_obj)s</span><span class="s2">.plot(kind=&#39;line&#39;)`` is equivalent to</span>
<span class="s2">    ``</span><span class="si">%(klass_obj)s</span><span class="s2">.plot.line()``.</span>

<span class="s2">    Parameters</span>
<span class="s2">    ----------</span>
<span class="s2">    data : </span><span class="si">%(klass)s</span><span class="s2"></span>
<span class="s2">    </span><span class="si">%(klass_coord)s</span><span class="s2"></span>
<span class="s2">    kind : str</span>
<span class="s2">        - &#39;line&#39; : line plot (default)</span>
<span class="s2">        - &#39;bar&#39; : vertical bar plot</span>
<span class="s2">        - &#39;barh&#39; : horizontal bar plot</span>
<span class="s2">        - &#39;hist&#39; : histogram</span>
<span class="s2">        - &#39;box&#39; : boxplot</span>
<span class="s2">        - &#39;kde&#39; : Kernel Density Estimation plot</span>
<span class="s2">        - &#39;density&#39; : same as &#39;kde&#39;</span>
<span class="s2">        - &#39;area&#39; : area plot</span>
<span class="s2">        - &#39;pie&#39; : pie plot</span>
<span class="s2">        </span><span class="si">%(klass_kind)s</span><span class="s2"></span>
<span class="s2">    </span><span class="si">%(klass_ax)s</span><span class="s2"></span>
<span class="s2">    figsize : a tuple (width, height) in inches</span>
<span class="s2">    use_index : boolean, default True</span>
<span class="s2">        Use index as ticks for x axis</span>
<span class="s2">    title : string or list</span>
<span class="s2">        Title to use for the plot. If a string is passed, print the string at</span>
<span class="s2">        the top of the figure. If a list is passed and `subplots` is True,</span>
<span class="s2">        print each item in the list above the corresponding subplot.</span>
<span class="s2">    grid : boolean, default None (matlab style default)</span>
<span class="s2">        Axis grid lines</span>
<span class="s2">    legend : False/True/&#39;reverse&#39;</span>
<span class="s2">        Place legend on axis subplots</span>
<span class="s2">    style : list or dict</span>
<span class="s2">        matplotlib line style per column</span>
<span class="s2">    logx : boolean, default False</span>
<span class="s2">        Use log scaling on x axis</span>
<span class="s2">    logy : boolean, default False</span>
<span class="s2">        Use log scaling on y axis</span>
<span class="s2">    loglog : boolean, default False</span>
<span class="s2">        Use log scaling on both x and y axes</span>
<span class="s2">    xticks : sequence</span>
<span class="s2">        Values to use for the xticks</span>
<span class="s2">    yticks : sequence</span>
<span class="s2">        Values to use for the yticks</span>
<span class="s2">    xlim : 2-tuple/list</span>
<span class="s2">    ylim : 2-tuple/list</span>
<span class="s2">    rot : int, default None</span>
<span class="s2">        Rotation for ticks (xticks for vertical, yticks for horizontal plots)</span>
<span class="s2">    fontsize : int, default None</span>
<span class="s2">        Font size for xticks and yticks</span>
<span class="s2">    colormap : str or matplotlib colormap object, default None</span>
<span class="s2">        Colormap to select colors from. If string, load colormap with that name</span>
<span class="s2">        from matplotlib.</span>
<span class="s2">    colorbar : boolean, optional</span>
<span class="s2">        If True, plot colorbar (only relevant for &#39;scatter&#39; and &#39;hexbin&#39; plots)</span>
<span class="s2">    position : float</span>
<span class="s2">        Specify relative alignments for bar plot layout.</span>
<span class="s2">        From 0 (left/bottom-end) to 1 (right/top-end). Default is 0.5 (center)</span>
<span class="s2">    table : boolean, Series or DataFrame, default False</span>
<span class="s2">        If True, draw a table using the data in the DataFrame and the data will</span>
<span class="s2">        be transposed to meet matplotlib&#39;s default layout.</span>
<span class="s2">        If a Series or DataFrame is passed, use passed data to draw a table.</span>
<span class="s2">    yerr : DataFrame, Series, array-like, dict and str</span>
<span class="s2">        See :ref:`Plotting with Error Bars &lt;visualization.errorbars&gt;` for</span>
<span class="s2">        detail.</span>
<span class="s2">    xerr : same types as yerr.</span>
<span class="s2">    </span><span class="si">%(klass_unique)s</span><span class="s2"></span>
<span class="s2">    mark_right : boolean, default True</span>
<span class="s2">        When using a secondary_y axis, automatically mark the column</span>
<span class="s2">        labels with &quot;(right)&quot; in the legend</span>
<span class="s2">    `**kwds` : keywords</span>
<span class="s2">        Options to pass to matplotlib plotting method</span>

<span class="s2">    Returns</span>
<span class="s2">    -------</span>
<span class="s2">    axes : :class:`matplotlib.axes.Axes` or numpy.ndarray of them</span>

<span class="s2">    Notes</span>
<span class="s2">    -----</span>

<span class="s2">    - See matplotlib documentation online for more on this subject</span>
<span class="s2">    - If `kind` = &#39;bar&#39; or &#39;barh&#39;, you can specify relative alignments</span>
<span class="s2">      for bar plot layout by `position` keyword.</span>
<span class="s2">      From 0 (left/bottom-end) to 1 (right/top-end). Default is 0.5 (center)</span>
<span class="s2">    </span><span class="si">%(klass_note)s</span><span class="s2"></span>
<span class="s2">    &quot;&quot;&quot;</span>


<span class="nd">@Appender</span><span class="p">(</span><span class="n">_shared_docs</span><span class="p">[</span><span class="s1">&#39;plot&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="n">_shared_doc_df_kwargs</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">plot_frame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">subplots</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">use_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logx</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">logy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">loglog</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
               <span class="n">xticks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yticks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xlim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">rot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
               <span class="n">yerr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xerr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">secondary_y</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sort_columns</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
               <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
                 <span class="n">subplots</span><span class="o">=</span><span class="n">subplots</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="n">sharex</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="n">sharey</span><span class="p">,</span>
                 <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">use_index</span><span class="o">=</span><span class="n">use_index</span><span class="p">,</span>
                 <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="n">legend</span><span class="p">,</span>
                 <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">logx</span><span class="o">=</span><span class="n">logx</span><span class="p">,</span> <span class="n">logy</span><span class="o">=</span><span class="n">logy</span><span class="p">,</span> <span class="n">loglog</span><span class="o">=</span><span class="n">loglog</span><span class="p">,</span>
                 <span class="n">xticks</span><span class="o">=</span><span class="n">xticks</span><span class="p">,</span> <span class="n">yticks</span><span class="o">=</span><span class="n">yticks</span><span class="p">,</span> <span class="n">xlim</span><span class="o">=</span><span class="n">xlim</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="n">ylim</span><span class="p">,</span>
                 <span class="n">rot</span><span class="o">=</span><span class="n">rot</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="n">colormap</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span>
                 <span class="n">yerr</span><span class="o">=</span><span class="n">yerr</span><span class="p">,</span> <span class="n">xerr</span><span class="o">=</span><span class="n">xerr</span><span class="p">,</span>
                 <span class="n">secondary_y</span><span class="o">=</span><span class="n">secondary_y</span><span class="p">,</span> <span class="n">sort_columns</span><span class="o">=</span><span class="n">sort_columns</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>


<span class="nd">@Appender</span><span class="p">(</span><span class="n">_shared_docs</span><span class="p">[</span><span class="s1">&#39;plot&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="n">_shared_doc_series_kwargs</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">plot_series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>                    <span class="c1"># Series unique</span>
                <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">use_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logx</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">logy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">loglog</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">xticks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yticks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xlim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">rot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">yerr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xerr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">secondary_y</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>                 <span class="c1"># Series unique</span>
                <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>

    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
    <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">get_fignums</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">_gca</span><span class="p">()</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">MPLPlot</span><span class="o">.</span><span class="n">_get_ax_layer</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
                 <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">use_index</span><span class="o">=</span><span class="n">use_index</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
                 <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="n">legend</span><span class="p">,</span>
                 <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">logx</span><span class="o">=</span><span class="n">logx</span><span class="p">,</span> <span class="n">logy</span><span class="o">=</span><span class="n">logy</span><span class="p">,</span> <span class="n">loglog</span><span class="o">=</span><span class="n">loglog</span><span class="p">,</span>
                 <span class="n">xticks</span><span class="o">=</span><span class="n">xticks</span><span class="p">,</span> <span class="n">yticks</span><span class="o">=</span><span class="n">yticks</span><span class="p">,</span> <span class="n">xlim</span><span class="o">=</span><span class="n">xlim</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="n">ylim</span><span class="p">,</span>
                 <span class="n">rot</span><span class="o">=</span><span class="n">rot</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="n">colormap</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span>
                 <span class="n">yerr</span><span class="o">=</span><span class="n">yerr</span><span class="p">,</span> <span class="n">xerr</span><span class="o">=</span><span class="n">xerr</span><span class="p">,</span>
                 <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">secondary_y</span><span class="o">=</span><span class="n">secondary_y</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>


<span class="n">_shared_docs</span><span class="p">[</span><span class="s1">&#39;boxplot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Make a box plot from DataFrame columns.</span>

<span class="s2">    Make a box-and-whisker plot from DataFrame columns, optionally grouped</span>
<span class="s2">    by some other columns. A box plot is a method for graphically depicting</span>
<span class="s2">    groups of numerical data through their quartiles.</span>
<span class="s2">    The box extends from the Q1 to Q3 quartile values of the data,</span>
<span class="s2">    with a line at the median (Q2). The whiskers extend from the edges</span>
<span class="s2">    of box to show the range of the data. The position of the whiskers</span>
<span class="s2">    is set by default to `1.5 * IQR (IQR = Q3 - Q1)` from the edges of the box.</span>
<span class="s2">    Outlier points are those past the end of the whiskers.</span>

<span class="s2">    For further details see</span>
<span class="s2">    Wikipedia&#39;s entry for `boxplot &lt;https://en.wikipedia.org/wiki/Box_plot&gt;`_.</span>

<span class="s2">    Parameters</span>
<span class="s2">    ----------</span>
<span class="s2">    column : str or list of str, optional</span>
<span class="s2">        Column name or list of names, or vector.</span>
<span class="s2">        Can be any valid input to :meth:`pandas.DataFrame.groupby`.</span>
<span class="s2">    by : str or array-like, optional</span>
<span class="s2">        Column in the DataFrame to :meth:`pandas.DataFrame.groupby`.</span>
<span class="s2">        One box-plot will be done per value of columns in `by`.</span>
<span class="s2">    ax : object of class matplotlib.axes.Axes, optional</span>
<span class="s2">        The matplotlib axes to be used by boxplot.</span>
<span class="s2">    fontsize : float or str</span>
<span class="s2">        Tick label font size in points or as a string (e.g., `large`).</span>
<span class="s2">    rot : int or float, default 0</span>
<span class="s2">        The rotation angle of labels (in degrees)</span>
<span class="s2">        with respect to the screen coordinate system.</span>
<span class="s2">    grid : boolean, default True</span>
<span class="s2">        Setting this to True will show the grid.</span>
<span class="s2">    figsize : A tuple (width, height) in inches</span>
<span class="s2">        The size of the figure to create in matplotlib.</span>
<span class="s2">    layout : tuple (rows, columns), optional</span>
<span class="s2">        For example, (3, 5) will display the subplots</span>
<span class="s2">        using 3 columns and 5 rows, starting from the top-left.</span>
<span class="s2">    return_type : {&#39;axes&#39;, &#39;dict&#39;, &#39;both&#39;} or None, default &#39;axes&#39;</span>
<span class="s2">        The kind of object to return. The default is ``axes``.</span>

<span class="s2">        * &#39;axes&#39; returns the matplotlib axes the boxplot is drawn on.</span>
<span class="s2">        * &#39;dict&#39; returns a dictionary whose values are the matplotlib</span>
<span class="s2">          Lines of the boxplot.</span>
<span class="s2">        * &#39;both&#39; returns a namedtuple with the axes and dict.</span>
<span class="s2">        * when grouping with ``by``, a Series mapping columns to</span>
<span class="s2">          ``return_type`` is returned.</span>

<span class="s2">          If ``return_type`` is `None`, a NumPy array</span>
<span class="s2">          of axes with the same shape as ``layout`` is returned.</span>
<span class="s2">    **kwds</span>
<span class="s2">        All other plotting keyword arguments to be passed to</span>
<span class="s2">        :func:`matplotlib.pyplot.boxplot`.</span>

<span class="s2">    Returns</span>
<span class="s2">    -------</span>
<span class="s2">    result :</span>

<span class="s2">        The return type depends on the `return_type` parameter:</span>

<span class="s2">        * &#39;axes&#39; : object of class matplotlib.axes.Axes</span>
<span class="s2">        * &#39;dict&#39; : dict of matplotlib.lines.Line2D objects</span>
<span class="s2">        * &#39;both&#39; : a namedtuple with structure (ax, lines)</span>

<span class="s2">        For data grouped with ``by``:</span>

<span class="s2">        * :class:`~pandas.Series`</span>
<span class="s2">        * :class:`~numpy.array` (for ``return_type = None``)</span>

<span class="s2">    See Also</span>
<span class="s2">    --------</span>
<span class="s2">    Series.plot.hist: Make a histogram.</span>
<span class="s2">    matplotlib.pyplot.boxplot : Matplotlib equivalent plot.</span>

<span class="s2">    Notes</span>
<span class="s2">    -----</span>
<span class="s2">    Use ``return_type=&#39;dict&#39;`` when you want to tweak the appearance</span>
<span class="s2">    of the lines after plotting. In this case a dict containing the Lines</span>
<span class="s2">    making up the boxes, caps, fliers, medians, and whiskers is returned.</span>

<span class="s2">    Examples</span>
<span class="s2">    --------</span>

<span class="s2">    Boxplots can be created for every column in the dataframe</span>
<span class="s2">    by ``df.boxplot()`` or indicating the columns to be used:</span>

<span class="s2">    .. plot::</span>
<span class="s2">        :context: close-figs</span>

<span class="s2">        &gt;&gt;&gt; np.random.seed(1234)</span>
<span class="s2">        &gt;&gt;&gt; df = pd.DataFrame(np.random.randn(10,4),</span>
<span class="s2">        ...                   columns=[&#39;Col1&#39;, &#39;Col2&#39;, &#39;Col3&#39;, &#39;Col4&#39;])</span>
<span class="s2">        &gt;&gt;&gt; boxplot = df.boxplot(column=[&#39;Col1&#39;, &#39;Col2&#39;, &#39;Col3&#39;])</span>

<span class="s2">    Boxplots of variables distributions grouped by the values of a third</span>
<span class="s2">    variable can be created using the option ``by``. For instance:</span>

<span class="s2">    .. plot::</span>
<span class="s2">        :context: close-figs</span>

<span class="s2">        &gt;&gt;&gt; df = pd.DataFrame(np.random.randn(10, 2),</span>
<span class="s2">        ...                   columns=[&#39;Col1&#39;, &#39;Col2&#39;])</span>
<span class="s2">        &gt;&gt;&gt; df[&#39;X&#39;] = pd.Series([&#39;A&#39;, &#39;A&#39;, &#39;A&#39;, &#39;A&#39;, &#39;A&#39;,</span>
<span class="s2">        ...                      &#39;B&#39;, &#39;B&#39;, &#39;B&#39;, &#39;B&#39;, &#39;B&#39;])</span>
<span class="s2">        &gt;&gt;&gt; boxplot = df.boxplot(by=&#39;X&#39;)</span>

<span class="s2">    A list of strings (i.e. ``[&#39;X&#39;, &#39;Y&#39;]``) can be passed to boxplot</span>
<span class="s2">    in order to group the data by combination of the variables in the x-axis:</span>

<span class="s2">    .. plot::</span>
<span class="s2">        :context: close-figs</span>

<span class="s2">        &gt;&gt;&gt; df = pd.DataFrame(np.random.randn(10,3),</span>
<span class="s2">        ...                   columns=[&#39;Col1&#39;, &#39;Col2&#39;, &#39;Col3&#39;])</span>
<span class="s2">        &gt;&gt;&gt; df[&#39;X&#39;] = pd.Series([&#39;A&#39;, &#39;A&#39;, &#39;A&#39;, &#39;A&#39;, &#39;A&#39;,</span>
<span class="s2">        ...                      &#39;B&#39;, &#39;B&#39;, &#39;B&#39;, &#39;B&#39;, &#39;B&#39;])</span>
<span class="s2">        &gt;&gt;&gt; df[&#39;Y&#39;] = pd.Series([&#39;A&#39;, &#39;B&#39;, &#39;A&#39;, &#39;B&#39;, &#39;A&#39;,</span>
<span class="s2">        ...                      &#39;B&#39;, &#39;A&#39;, &#39;B&#39;, &#39;A&#39;, &#39;B&#39;])</span>
<span class="s2">        &gt;&gt;&gt; boxplot = df.boxplot(column=[&#39;Col1&#39;, &#39;Col2&#39;], by=[&#39;X&#39;, &#39;Y&#39;])</span>

<span class="s2">    The layout of boxplot can be adjusted giving a tuple to ``layout``:</span>

<span class="s2">    .. plot::</span>
<span class="s2">        :context: close-figs</span>

<span class="s2">        &gt;&gt;&gt; boxplot = df.boxplot(column=[&#39;Col1&#39;, &#39;Col2&#39;], by=&#39;X&#39;,</span>
<span class="s2">        ...                      layout=(2, 1))</span>

<span class="s2">    Additional formatting can be done to the boxplot, like suppressing the grid</span>
<span class="s2">    (``grid=False``), rotating the labels in the x-axis (i.e. ``rot=45``)</span>
<span class="s2">    or changing the fontsize (i.e. ``fontsize=15``):</span>

<span class="s2">    .. plot::</span>
<span class="s2">        :context: close-figs</span>

<span class="s2">        &gt;&gt;&gt; boxplot = df.boxplot(grid=False, rot=45, fontsize=15)</span>

<span class="s2">    The parameter ``return_type`` can be used to select the type of element</span>
<span class="s2">    returned by `boxplot`.  When ``return_type=&#39;axes&#39;`` is selected,</span>
<span class="s2">    the matplotlib axes on which the boxplot is drawn are returned:</span>

<span class="s2">        &gt;&gt;&gt; boxplot = df.boxplot(column=[&#39;Col1&#39;,&#39;Col2&#39;], return_type=&#39;axes&#39;)</span>
<span class="s2">        &gt;&gt;&gt; type(boxplot)</span>
<span class="s2">        &lt;class &#39;matplotlib.axes._subplots.AxesSubplot&#39;&gt;</span>

<span class="s2">    When grouping with ``by``, a Series mapping columns to ``return_type``</span>
<span class="s2">    is returned:</span>

<span class="s2">        &gt;&gt;&gt; boxplot = df.boxplot(column=[&#39;Col1&#39;, &#39;Col2&#39;], by=&#39;X&#39;,</span>
<span class="s2">        ...                      return_type=&#39;axes&#39;)</span>
<span class="s2">        &gt;&gt;&gt; type(boxplot)</span>
<span class="s2">        &lt;class &#39;pandas.core.series.Series&#39;&gt;</span>

<span class="s2">    If ``return_type`` is `None`, a NumPy array of axes with the same shape</span>
<span class="s2">    as ``layout`` is returned:</span>

<span class="s2">        &gt;&gt;&gt; boxplot =  df.boxplot(column=[&#39;Col1&#39;, &#39;Col2&#39;], by=&#39;X&#39;,</span>
<span class="s2">        ...                       return_type=None)</span>
<span class="s2">        &gt;&gt;&gt; type(boxplot)</span>
<span class="s2">        &lt;class &#39;numpy.ndarray&#39;&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>


<span class="nd">@Appender</span><span class="p">(</span><span class="n">_shared_docs</span><span class="p">[</span><span class="s1">&#39;boxplot&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="n">_shared_doc_kwargs</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">boxplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>

    <span class="c1"># validate return_type:</span>
    <span class="k">if</span> <span class="n">return_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">BoxPlot</span><span class="o">.</span><span class="n">_valid_return_types</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;return_type must be {&#39;axes&#39;, &#39;dict&#39;, &#39;both&#39;}&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ABCSeries</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
        <span class="n">column</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span>

    <span class="k">def</span> <span class="nf">_get_colors</span><span class="p">():</span>
        <span class="c1">#  num_colors=3 is required as method maybe_color_bp takes the colors</span>
        <span class="c1">#  in positions 0 and 2.</span>
        <span class="k">return</span> <span class="n">_get_standard_colors</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">),</span> <span class="n">num_colors</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">maybe_color_bp</span><span class="p">(</span><span class="n">bp</span><span class="p">):</span>
        <span class="k">if</span> <span class="s1">&#39;color&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwds</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">matplotlib.artist</span> <span class="k">import</span> <span class="n">setp</span>
            <span class="n">setp</span><span class="p">(</span><span class="n">bp</span><span class="p">[</span><span class="s1">&#39;boxes&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">setp</span><span class="p">(</span><span class="n">bp</span><span class="p">[</span><span class="s1">&#39;whiskers&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">setp</span><span class="p">(</span><span class="n">bp</span><span class="p">[</span><span class="s1">&#39;medians&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">plot_group</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">]</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">remove_na_arraylike</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="p">]</span>
        <span class="n">bp</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fontsize</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;vert&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="n">rot</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="n">rot</span><span class="p">)</span>
        <span class="n">maybe_color_bp</span><span class="p">(</span><span class="n">bp</span><span class="p">)</span>

        <span class="c1"># Return axes in multiplot case, maybe revisit later # 985</span>
        <span class="k">if</span> <span class="n">return_type</span> <span class="o">==</span> <span class="s1">&#39;dict&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bp</span>
        <span class="k">elif</span> <span class="n">return_type</span> <span class="o">==</span> <span class="s1">&#39;both&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">BoxPlot</span><span class="o">.</span><span class="n">BP</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">lines</span><span class="o">=</span><span class="n">bp</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ax</span>

    <span class="n">colors</span> <span class="o">=</span> <span class="n">_get_colors</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">column</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">columns</span> <span class="o">=</span> <span class="n">column</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">column</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">by</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Prefer array return type for 2-D plots to match the subplot layout</span>
        <span class="c1"># https://github.com/pandas-dev/pandas/pull/12216#issuecomment-241175580</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">_grouped_plot_by_column</span><span class="p">(</span><span class="n">plot_group</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span>
                                         <span class="n">by</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                                         <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">,</span>
                                         <span class="n">return_type</span><span class="o">=</span><span class="n">return_type</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">return_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">return_type</span> <span class="o">=</span> <span class="s1">&#39;axes&#39;</span>
        <span class="k">if</span> <span class="n">layout</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The &#39;layout&#39; keyword is not supported when &quot;</span>
                             <span class="s2">&quot;&#39;by&#39; is None&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">rc</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">:</span> <span class="n">figsize</span><span class="p">}</span> <span class="k">if</span> <span class="n">figsize</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">{}</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">_gca</span><span class="p">(</span><span class="n">rc</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">_get_numeric_data</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">columns</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">columns</span><span class="p">]</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">plot_group</span><span class="p">(</span><span class="n">columns</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>


<span class="nd">@Appender</span><span class="p">(</span><span class="n">_shared_docs</span><span class="p">[</span><span class="s1">&#39;boxplot&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="n">_shared_doc_kwargs</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">boxplot_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                  <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                  <span class="n">return_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
    <span class="n">_converter</span><span class="o">.</span><span class="n">_WARN</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">boxplot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">column</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span>
                 <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="n">rot</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">,</span>
                 <span class="n">return_type</span><span class="o">=</span><span class="n">return_type</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">draw_if_interactive</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ax</span>


<span class="k">def</span> <span class="nf">scatter_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Make a scatter plot from two DataFrame columns</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : DataFrame</span>
<span class="sd">    x : Column name for the x-axis values</span>
<span class="sd">    y : Column name for the y-axis values</span>
<span class="sd">    ax : Matplotlib axis object</span>
<span class="sd">    figsize : A tuple (width, height) in inches</span>
<span class="sd">    grid : Setting this to True will show the grid</span>
<span class="sd">    kwargs : other plotting keyword arguments</span>
<span class="sd">        To be passed to scatter function</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    fig : matplotlib.Figure</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

    <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;edgecolors&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">plot_group</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
        <span class="n">xvals</span> <span class="o">=</span> <span class="n">group</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
        <span class="n">yvals</span> <span class="o">=</span> <span class="n">group</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xvals</span><span class="p">,</span> <span class="n">yvals</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">by</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">_grouped_plot</span><span class="p">(</span><span class="n">plot_group</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fig</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span>
        <span class="n">plot_group</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fig</span>


<span class="k">def</span> <span class="nf">hist_frame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">xlabelsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">xrot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ylabelsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yrot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
               <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Make a histogram of the DataFrame&#39;s.</span>

<span class="sd">    A `histogram`_ is a representation of the distribution of data.</span>
<span class="sd">    This function calls :meth:`matplotlib.pyplot.hist`, on each series in</span>
<span class="sd">    the DataFrame, resulting in one histogram per column.</span>

<span class="sd">    .. _histogram: https://en.wikipedia.org/wiki/Histogram</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : DataFrame</span>
<span class="sd">        The pandas object holding the data.</span>
<span class="sd">    column : string or sequence</span>
<span class="sd">        If passed, will be used to limit data to a subset of columns.</span>
<span class="sd">    by : object, optional</span>
<span class="sd">        If passed, then used to form histograms for separate groups.</span>
<span class="sd">    grid : boolean, default True</span>
<span class="sd">        Whether to show axis grid lines.</span>
<span class="sd">    xlabelsize : int, default None</span>
<span class="sd">        If specified changes the x-axis label size.</span>
<span class="sd">    xrot : float, default None</span>
<span class="sd">        Rotation of x axis labels. For example, a value of 90 displays the</span>
<span class="sd">        x labels rotated 90 degrees clockwise.</span>
<span class="sd">    ylabelsize : int, default None</span>
<span class="sd">        If specified changes the y-axis label size.</span>
<span class="sd">    yrot : float, default None</span>
<span class="sd">        Rotation of y axis labels. For example, a value of 90 displays the</span>
<span class="sd">        y labels rotated 90 degrees clockwise.</span>
<span class="sd">    ax : Matplotlib axes object, default None</span>
<span class="sd">        The axes to plot the histogram on.</span>
<span class="sd">    sharex : boolean, default True if ax is None else False</span>
<span class="sd">        In case subplots=True, share x axis and set some x axis labels to</span>
<span class="sd">        invisible; defaults to True if ax is None otherwise False if an ax</span>
<span class="sd">        is passed in.</span>
<span class="sd">        Note that passing in both an ax and sharex=True will alter all x axis</span>
<span class="sd">        labels for all subplots in a figure.</span>
<span class="sd">    sharey : boolean, default False</span>
<span class="sd">        In case subplots=True, share y axis and set some y axis labels to</span>
<span class="sd">        invisible.</span>
<span class="sd">    figsize : tuple</span>
<span class="sd">        The size in inches of the figure to create. Uses the value in</span>
<span class="sd">        `matplotlib.rcParams` by default.</span>
<span class="sd">    layout : tuple, optional</span>
<span class="sd">        Tuple of (rows, columns) for the layout of the histograms.</span>
<span class="sd">    bins : integer or sequence, default 10</span>
<span class="sd">        Number of histogram bins to be used. If an integer is given, bins + 1</span>
<span class="sd">        bin edges are calculated and returned. If bins is a sequence, gives</span>
<span class="sd">        bin edges, including left edge of first bin and right edge of last</span>
<span class="sd">        bin. In this case, bins is returned unmodified.</span>
<span class="sd">    **kwds</span>
<span class="sd">        All other plotting keyword arguments to be passed to</span>
<span class="sd">        :meth:`matplotlib.pyplot.hist`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    axes : matplotlib.AxesSubplot or numpy.ndarray of them</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    matplotlib.pyplot.hist : Plot a histogram using matplotlib.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. plot::</span>
<span class="sd">        :context: close-figs</span>

<span class="sd">        This example draws a histogram based on the length and width of</span>
<span class="sd">        some animals, displayed in three bins</span>

<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &#39;length&#39;: [1.5, 0.5, 1.2, 0.9, 3],</span>
<span class="sd">        ...     &#39;width&#39;: [0.7, 0.2, 0.15, 0.2, 1.1]</span>
<span class="sd">        ...     }, index= [&#39;pig&#39;, &#39;rabbit&#39;, &#39;duck&#39;, &#39;chicken&#39;, &#39;horse&#39;])</span>
<span class="sd">        &gt;&gt;&gt; hist = df.hist(bins=3)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_raise_if_no_mpl</span><span class="p">()</span>
    <span class="n">_converter</span><span class="o">.</span><span class="n">_WARN</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">by</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="n">grouped_hist</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">column</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
                            <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="n">sharex</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="n">sharey</span><span class="p">,</span>
                            <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">xlabelsize</span><span class="o">=</span><span class="n">xlabelsize</span><span class="p">,</span>
                            <span class="n">xrot</span><span class="o">=</span><span class="n">xrot</span><span class="p">,</span> <span class="n">ylabelsize</span><span class="o">=</span><span class="n">ylabelsize</span><span class="p">,</span>
                            <span class="n">yrot</span><span class="o">=</span><span class="n">yrot</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">axes</span>

    <span class="k">if</span> <span class="n">column</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">ABCIndexClass</span><span class="p">)):</span>
            <span class="n">column</span> <span class="o">=</span> <span class="p">[</span><span class="n">column</span><span class="p">]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">_get_numeric_data</span><span class="p">()</span>
    <span class="n">naxes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">_subplots</span><span class="p">(</span><span class="n">naxes</span><span class="o">=</span><span class="n">naxes</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">squeeze</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                          <span class="n">sharex</span><span class="o">=</span><span class="n">sharex</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="n">sharey</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                          <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>
    <span class="n">_axes</span> <span class="o">=</span> <span class="n">_flatten</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">com</span><span class="o">.</span><span class="n">try_sort</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)):</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">_axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>

    <span class="n">_set_ticks_props</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">xlabelsize</span><span class="o">=</span><span class="n">xlabelsize</span><span class="p">,</span> <span class="n">xrot</span><span class="o">=</span><span class="n">xrot</span><span class="p">,</span>
                     <span class="n">ylabelsize</span><span class="o">=</span><span class="n">ylabelsize</span><span class="p">,</span> <span class="n">yrot</span><span class="o">=</span><span class="n">yrot</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">axes</span>


<span class="k">def</span> <span class="nf">hist_series</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">xlabelsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">xrot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ylabelsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yrot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw histogram of the input series using matplotlib.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    by : object, optional</span>
<span class="sd">        If passed, then used to form histograms for separate groups</span>
<span class="sd">    ax : matplotlib axis object</span>
<span class="sd">        If not passed, uses gca()</span>
<span class="sd">    grid : boolean, default True</span>
<span class="sd">        Whether to show axis grid lines</span>
<span class="sd">    xlabelsize : int, default None</span>
<span class="sd">        If specified changes the x-axis label size</span>
<span class="sd">    xrot : float, default None</span>
<span class="sd">        rotation of x axis labels</span>
<span class="sd">    ylabelsize : int, default None</span>
<span class="sd">        If specified changes the y-axis label size</span>
<span class="sd">    yrot : float, default None</span>
<span class="sd">        rotation of y axis labels</span>
<span class="sd">    figsize : tuple, default None</span>
<span class="sd">        figure size in inches by default</span>
<span class="sd">    bins : integer or sequence, default 10</span>
<span class="sd">        Number of histogram bins to be used. If an integer is given, bins + 1</span>
<span class="sd">        bin edges are calculated and returned. If bins is a sequence, gives</span>
<span class="sd">        bin edges, including left edge of first bin and right edge of last</span>
<span class="sd">        bin. In this case, bins is returned unmodified.</span>
<span class="sd">    bins : integer, default 10</span>
<span class="sd">        Number of histogram bins to be used</span>
<span class="sd">    `**kwds` : keywords</span>
<span class="sd">        To be passed to the actual plotting function</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    matplotlib.axes.Axes.hist : Plot a histogram using matplotlib.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

    <span class="k">if</span> <span class="n">by</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;layout&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The &#39;layout&#39; keyword is not supported when &quot;</span>
                             <span class="s2">&quot;&#39;by&#39; is None&quot;</span><span class="p">)</span>
        <span class="c1"># hack until the plotting interface is a bit more unified</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;figure&#39;</span><span class="p">,</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span> <span class="k">if</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_fignums</span><span class="p">()</span> <span class="k">else</span>
                       <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">))</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">figsize</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">figsize</span><span class="p">)</span> <span class="o">!=</span>
                <span class="nb">tuple</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">get_size_inches</span><span class="p">())):</span>
            <span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="o">*</span><span class="n">figsize</span><span class="p">,</span> <span class="n">forward</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span> <span class="o">!=</span> <span class="n">fig</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s1">&#39;passed axis not bound to passed figure&#39;</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">ax</span><span class="p">])</span>

        <span class="n">_set_ticks_props</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">xlabelsize</span><span class="o">=</span><span class="n">xlabelsize</span><span class="p">,</span> <span class="n">xrot</span><span class="o">=</span><span class="n">xrot</span><span class="p">,</span>
                         <span class="n">ylabelsize</span><span class="o">=</span><span class="n">ylabelsize</span><span class="p">,</span> <span class="n">yrot</span><span class="o">=</span><span class="n">yrot</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">&#39;figure&#39;</span> <span class="ow">in</span> <span class="n">kwds</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot pass &#39;figure&#39; when using the &quot;</span>
                             <span class="s2">&quot;&#39;by&#39; argument, since a new &#39;Figure&#39; instance &quot;</span>
                             <span class="s2">&quot;will be created&quot;</span><span class="p">)</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="n">grouped_hist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                            <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">xlabelsize</span><span class="o">=</span><span class="n">xlabelsize</span><span class="p">,</span> <span class="n">xrot</span><span class="o">=</span><span class="n">xrot</span><span class="p">,</span>
                            <span class="n">ylabelsize</span><span class="o">=</span><span class="n">ylabelsize</span><span class="p">,</span> <span class="n">yrot</span><span class="o">=</span><span class="n">yrot</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="s1">&#39;ndim&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">axes</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">axes</span>


<span class="k">def</span> <span class="nf">grouped_hist</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                 <span class="n">xlabelsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xrot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ylabelsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yrot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Grouped histogram</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : Series/DataFrame</span>
<span class="sd">    column : object, optional</span>
<span class="sd">    by : object, optional</span>
<span class="sd">    ax : axes, optional</span>
<span class="sd">    bins : int, default 50</span>
<span class="sd">    figsize : tuple, optional</span>
<span class="sd">    layout : optional</span>
<span class="sd">    sharex : boolean, default False</span>
<span class="sd">    sharey : boolean, default False</span>
<span class="sd">    rot : int, default 90</span>
<span class="sd">    grid : bool, default True</span>
<span class="sd">    kwargs : dict, keyword arguments passed to matplotlib.Axes.hist</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    axes : collection of Matplotlib Axes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_raise_if_no_mpl</span><span class="p">()</span>
    <span class="n">_converter</span><span class="o">.</span><span class="n">_WARN</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">plot_group</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">xrot</span> <span class="o">=</span> <span class="n">xrot</span> <span class="ow">or</span> <span class="n">rot</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">_grouped_plot</span><span class="p">(</span><span class="n">plot_group</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">column</span><span class="p">,</span>
                              <span class="n">by</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="n">sharex</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="n">sharey</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
                              <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="n">rot</span><span class="p">)</span>

    <span class="n">_set_ticks_props</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">xlabelsize</span><span class="o">=</span><span class="n">xlabelsize</span><span class="p">,</span> <span class="n">xrot</span><span class="o">=</span><span class="n">xrot</span><span class="p">,</span>
                     <span class="n">ylabelsize</span><span class="o">=</span><span class="n">ylabelsize</span><span class="p">,</span> <span class="n">yrot</span><span class="o">=</span><span class="n">yrot</span><span class="p">)</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
                        <span class="n">hspace</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">axes</span>


<span class="k">def</span> <span class="nf">boxplot_frame_groupby</span><span class="p">(</span><span class="n">grouped</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Make box plots from DataFrameGroupBy data.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    grouped : Grouped DataFrame</span>
<span class="sd">    subplots :</span>
<span class="sd">        * ``False`` - no subplots will be used</span>
<span class="sd">        * ``True`` - create a subplot for each group</span>
<span class="sd">    column : column name or list of names, or vector</span>
<span class="sd">        Can be any valid input to groupby</span>
<span class="sd">    fontsize : int or string</span>
<span class="sd">    rot : label rotation angle</span>
<span class="sd">    grid : Setting this to True will show the grid</span>
<span class="sd">    ax : Matplotlib axis object, default None</span>
<span class="sd">    figsize : A tuple (width, height) in inches</span>
<span class="sd">    layout : tuple (optional)</span>
<span class="sd">        (rows, columns) for the layout of the plot</span>
<span class="sd">    sharex : bool, default False</span>
<span class="sd">        Whether x-axes will be shared among subplots</span>

<span class="sd">        .. versionadded:: 0.23.1</span>
<span class="sd">    sharey : bool, default True</span>
<span class="sd">        Whether y-axes will be shared among subplots</span>

<span class="sd">        .. versionadded:: 0.23.1</span>
<span class="sd">    `**kwds` : Keyword Arguments</span>
<span class="sd">        All other plotting keyword arguments to be passed to</span>
<span class="sd">        matplotlib&#39;s boxplot function</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dict of key/value = group key/DataFrame.boxplot return value</span>
<span class="sd">    or DataFrame.boxplot return value in case subplots=figures=False</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; import itertools</span>
<span class="sd">    &gt;&gt;&gt; tuples = [t for t in itertools.product(range(1000), range(4))]</span>
<span class="sd">    &gt;&gt;&gt; index = pd.MultiIndex.from_tuples(tuples, names=[&#39;lvl0&#39;, &#39;lvl1&#39;])</span>
<span class="sd">    &gt;&gt;&gt; data = np.random.randn(len(index),4)</span>
<span class="sd">    &gt;&gt;&gt; df = pd.DataFrame(data, columns=list(&#39;ABCD&#39;), index=index)</span>
<span class="sd">    &gt;&gt;&gt;</span>
<span class="sd">    &gt;&gt;&gt; grouped = df.groupby(level=&#39;lvl1&#39;)</span>
<span class="sd">    &gt;&gt;&gt; boxplot_frame_groupby(grouped)</span>
<span class="sd">    &gt;&gt;&gt;</span>
<span class="sd">    &gt;&gt;&gt; grouped = df.unstack(level=&#39;lvl1&#39;).groupby(level=0, axis=1)</span>
<span class="sd">    &gt;&gt;&gt; boxplot_frame_groupby(grouped, subplots=False)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_raise_if_no_mpl</span><span class="p">()</span>
    <span class="n">_converter</span><span class="o">.</span><span class="n">_WARN</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">subplots</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">naxes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">grouped</span><span class="p">)</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">_subplots</span><span class="p">(</span><span class="n">naxes</span><span class="o">=</span><span class="n">naxes</span><span class="p">,</span> <span class="n">squeeze</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                              <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="n">sharex</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="n">sharey</span><span class="p">,</span>
                              <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="n">_flatten</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span>

        <span class="kn">from</span> <span class="nn">pandas.core.series</span> <span class="k">import</span> <span class="n">Series</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">Series</span><span class="p">()</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">group</span><span class="p">),</span> <span class="n">ax</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">grouped</span><span class="p">,</span> <span class="n">axes</span><span class="p">):</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">column</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span>
                              <span class="n">rot</span><span class="o">=</span><span class="n">rot</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                            <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">pandas.core.reshape.concat</span> <span class="k">import</span> <span class="n">concat</span>
        <span class="n">keys</span><span class="p">,</span> <span class="n">frames</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">grouped</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">grouped</span><span class="o">.</span><span class="n">axis</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">concat</span><span class="p">(</span><span class="n">frames</span><span class="p">,</span> <span class="n">keys</span><span class="o">=</span><span class="n">keys</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">frames</span><span class="p">[</span><span class="mi">1</span><span class="p">::])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="n">column</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="n">rot</span><span class="p">,</span>
                         <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                         <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret</span>


<span class="k">def</span> <span class="nf">_grouped_plot</span><span class="p">(</span><span class="n">plotf</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                  <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">figsize</span> <span class="o">==</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span>
        <span class="c1"># allowed to specify mpl default with &#39;default&#39;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;figsize=&#39;default&#39; is deprecated. Specify figure&quot;</span>
                      <span class="s2">&quot;size by tuple instead&quot;</span><span class="p">,</span> <span class="ne">FutureWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
        <span class="n">figsize</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">grouped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">column</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">grouped</span> <span class="o">=</span> <span class="n">grouped</span><span class="p">[</span><span class="n">column</span><span class="p">]</span>

    <span class="n">naxes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">grouped</span><span class="p">)</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">_subplots</span><span class="p">(</span><span class="n">naxes</span><span class="o">=</span><span class="n">naxes</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                          <span class="n">sharex</span><span class="o">=</span><span class="n">sharex</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="n">sharey</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
                          <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>

    <span class="n">_axes</span> <span class="o">=</span> <span class="n">_flatten</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">group</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">grouped</span><span class="p">):</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">_axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">numeric_only</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">ABCDataFrame</span><span class="p">):</span>
            <span class="n">group</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">_get_numeric_data</span><span class="p">()</span>
        <span class="n">plotf</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span>


<span class="k">def</span> <span class="nf">_grouped_plot_by_column</span><span class="p">(</span><span class="n">plotf</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                            <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">return_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">grouped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">by</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">by</span> <span class="o">=</span> <span class="p">[</span><span class="n">by</span><span class="p">]</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">_get_numeric_data</span><span class="p">()</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">by</span><span class="p">)</span>
    <span class="n">naxes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">_subplots</span><span class="p">(</span><span class="n">naxes</span><span class="o">=</span><span class="n">naxes</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                          <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>

    <span class="n">_axes</span> <span class="o">=</span> <span class="n">_flatten</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span>

    <span class="n">ax_values</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">columns</span><span class="p">):</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">_axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">gp_col</span> <span class="o">=</span> <span class="n">grouped</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>
        <span class="n">keys</span><span class="p">,</span> <span class="n">values</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">gp_col</span><span class="p">)</span>
        <span class="n">re_plotf</span> <span class="o">=</span> <span class="n">plotf</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">pprint_thing</span><span class="p">(</span><span class="n">by</span><span class="p">))</span>
        <span class="n">ax_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">re_plotf</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>

    <span class="kn">from</span> <span class="nn">pandas.core.series</span> <span class="k">import</span> <span class="n">Series</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">ax_values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

    <span class="c1"># Return axes in multiplot case, maybe revisit later # 985</span>
    <span class="k">if</span> <span class="n">return_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">axes</span>

    <span class="n">byline</span> <span class="o">=</span> <span class="n">by</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">by</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">by</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Boxplot grouped by </span><span class="si">{byline}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">byline</span><span class="o">=</span><span class="n">byline</span><span class="p">))</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>


<span class="k">class</span> <span class="nc">BasePlotMethods</span><span class="p">(</span><span class="n">PandasObject</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">data</span>  <span class="c1"># can be Series or DataFrame</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>


<span class="k">class</span> <span class="nc">SeriesPlotMethods</span><span class="p">(</span><span class="n">BasePlotMethods</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Series plotting accessor and method.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; s.plot.line()</span>
<span class="sd">    &gt;&gt;&gt; s.plot.bar()</span>
<span class="sd">    &gt;&gt;&gt; s.plot.hist()</span>

<span class="sd">    Plotting methods can also be accessed by calling the accessor as a method</span>
<span class="sd">    with the ``kind`` argument:</span>
<span class="sd">    ``s.plot(kind=&#39;line&#39;)`` is equivalent to ``s.plot.line()``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">use_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logx</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">logy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">loglog</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">xticks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yticks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">xlim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">rot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">yerr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xerr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">secondary_y</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">plot_series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                           <span class="n">use_index</span><span class="o">=</span><span class="n">use_index</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
                           <span class="n">legend</span><span class="o">=</span><span class="n">legend</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">logx</span><span class="o">=</span><span class="n">logx</span><span class="p">,</span> <span class="n">logy</span><span class="o">=</span><span class="n">logy</span><span class="p">,</span>
                           <span class="n">loglog</span><span class="o">=</span><span class="n">loglog</span><span class="p">,</span> <span class="n">xticks</span><span class="o">=</span><span class="n">xticks</span><span class="p">,</span> <span class="n">yticks</span><span class="o">=</span><span class="n">yticks</span><span class="p">,</span>
                           <span class="n">xlim</span><span class="o">=</span><span class="n">xlim</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="n">ylim</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="n">rot</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span>
                           <span class="n">colormap</span><span class="o">=</span><span class="n">colormap</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="n">yerr</span><span class="p">,</span>
                           <span class="n">xerr</span><span class="o">=</span><span class="n">xerr</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">secondary_y</span><span class="o">=</span><span class="n">secondary_y</span><span class="p">,</span>
                           <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
    <span class="fm">__call__</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="n">plot_series</span><span class="o">.</span><span class="vm">__doc__</span>

    <span class="k">def</span> <span class="nf">line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Line plot.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        `**kwds` : optional</span>
<span class="sd">            Additional keyword arguments are documented in</span>
<span class="sd">            :meth:`pandas.Series.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : :class:`matplotlib.axes.Axes` or numpy.ndarray of them</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; s = pd.Series([1, 3, 2])</span>
<span class="sd">            &gt;&gt;&gt; s.plot.line()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Vertical bar plot.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        `**kwds` : optional</span>
<span class="sd">            Additional keyword arguments are documented in</span>
<span class="sd">            :meth:`pandas.Series.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : :class:`matplotlib.axes.Axes` or numpy.ndarray of them</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">barh</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Horizontal bar plot.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        `**kwds` : optional</span>
<span class="sd">            Additional keyword arguments are documented in</span>
<span class="sd">            :meth:`pandas.Series.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : :class:`matplotlib.axes.Axes` or numpy.ndarray of them</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Boxplot.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        `**kwds` : optional</span>
<span class="sd">            Additional keyword arguments are documented in</span>
<span class="sd">            :meth:`pandas.Series.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : :class:`matplotlib.axes.Axes` or numpy.ndarray of them</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;box&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">hist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Histogram.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bins : integer, default 10</span>
<span class="sd">            Number of histogram bins to be used</span>
<span class="sd">        `**kwds` : optional</span>
<span class="sd">            Additional keyword arguments are documented in</span>
<span class="sd">            :meth:`pandas.Series.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : :class:`matplotlib.axes.Axes` or numpy.ndarray of them</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="nd">@Appender</span><span class="p">(</span><span class="n">_kde_docstring</span> <span class="o">%</span> <span class="p">{</span>
        <span class="s1">&#39;this-datatype&#39;</span><span class="p">:</span> <span class="s1">&#39;Series&#39;</span><span class="p">,</span>
        <span class="s1">&#39;sibling-datatype&#39;</span><span class="p">:</span> <span class="s1">&#39;DataFrame&#39;</span><span class="p">,</span>
        <span class="s1">&#39;examples&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Given a Series of points randomly sampled from an unknown</span>
<span class="s2">        distribution, estimate its PDF using KDE with automatic</span>
<span class="s2">        bandwidth determination and plot the results, evaluating them at</span>
<span class="s2">        1000 equally spaced points (default):</span>

<span class="s2">        .. plot::</span>
<span class="s2">            :context: close-figs</span>

<span class="s2">            &gt;&gt;&gt; s = pd.Series([1, 2, 2.5, 3, 3.5, 4, 5])</span>
<span class="s2">            &gt;&gt;&gt; ax = s.plot.kde()</span>

<span class="s2">        A scalar bandwidth can be specified. Using a small bandwidth value can</span>
<span class="s2">        lead to over-fitting, while using a large bandwidth value may result</span>
<span class="s2">        in under-fitting:</span>

<span class="s2">        .. plot::</span>
<span class="s2">            :context: close-figs</span>

<span class="s2">            &gt;&gt;&gt; ax = s.plot.kde(bw_method=0.3)</span>

<span class="s2">        .. plot::</span>
<span class="s2">            :context: close-figs</span>

<span class="s2">            &gt;&gt;&gt; ax = s.plot.kde(bw_method=3)</span>

<span class="s2">        Finally, the `ind` parameter determines the evaluation points for the</span>
<span class="s2">        plot of the estimated PDF:</span>

<span class="s2">        .. plot::</span>
<span class="s2">            :context: close-figs</span>

<span class="s2">            &gt;&gt;&gt; ax = s.plot.kde(ind=[1, 2, 3, 4, 5])</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="p">})</span>
    <span class="k">def</span> <span class="nf">kde</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bw_method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ind</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;kde&#39;</span><span class="p">,</span> <span class="n">bw_method</span><span class="o">=</span><span class="n">bw_method</span><span class="p">,</span> <span class="n">ind</span><span class="o">=</span><span class="n">ind</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="n">density</span> <span class="o">=</span> <span class="n">kde</span>

    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Area plot.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        `**kwds` : optional</span>
<span class="sd">            Additional keyword arguments are documented in</span>
<span class="sd">            :meth:`pandas.Series.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : :class:`matplotlib.axes.Axes` or numpy.ndarray of them</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;area&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pie</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pie chart.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        `**kwds` : optional</span>
<span class="sd">            Additional keyword arguments are documented in</span>
<span class="sd">            :meth:`pandas.Series.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : :class:`matplotlib.axes.Axes` or numpy.ndarray of them</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;pie&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">FramePlotMethods</span><span class="p">(</span><span class="n">BasePlotMethods</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;DataFrame plotting accessor and method</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; df.plot.line()</span>
<span class="sd">    &gt;&gt;&gt; df.plot.scatter(&#39;x&#39;, &#39;y&#39;)</span>
<span class="sd">    &gt;&gt;&gt; df.plot.hexbin()</span>

<span class="sd">    These plotting methods can also be accessed by calling the accessor as a</span>
<span class="sd">    method with the ``kind`` argument:</span>
<span class="sd">    ``df.plot(kind=&#39;line&#39;)`` is equivalent to ``df.plot.line()``</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">subplots</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">use_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logx</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">logy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">loglog</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">xticks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">yticks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xlim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">rot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">yerr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xerr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">secondary_y</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sort_columns</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">plot_frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
                          <span class="n">subplots</span><span class="o">=</span><span class="n">subplots</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="n">sharex</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="n">sharey</span><span class="p">,</span>
                          <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">use_index</span><span class="o">=</span><span class="n">use_index</span><span class="p">,</span>
                          <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="n">legend</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span>
                          <span class="n">logx</span><span class="o">=</span><span class="n">logx</span><span class="p">,</span> <span class="n">logy</span><span class="o">=</span><span class="n">logy</span><span class="p">,</span> <span class="n">loglog</span><span class="o">=</span><span class="n">loglog</span><span class="p">,</span> <span class="n">xticks</span><span class="o">=</span><span class="n">xticks</span><span class="p">,</span>
                          <span class="n">yticks</span><span class="o">=</span><span class="n">yticks</span><span class="p">,</span> <span class="n">xlim</span><span class="o">=</span><span class="n">xlim</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="n">ylim</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="n">rot</span><span class="p">,</span>
                          <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="n">colormap</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span>
                          <span class="n">yerr</span><span class="o">=</span><span class="n">yerr</span><span class="p">,</span> <span class="n">xerr</span><span class="o">=</span><span class="n">xerr</span><span class="p">,</span> <span class="n">secondary_y</span><span class="o">=</span><span class="n">secondary_y</span><span class="p">,</span>
                          <span class="n">sort_columns</span><span class="o">=</span><span class="n">sort_columns</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
    <span class="fm">__call__</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="n">plot_frame</span><span class="o">.</span><span class="vm">__doc__</span>

    <span class="k">def</span> <span class="nf">line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Plot DataFrame columns as lines.</span>

<span class="sd">        This function is useful to plot lines using DataFrame&#39;s values</span>
<span class="sd">        as coordinates.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : int or str, optional</span>
<span class="sd">            Columns to use for the horizontal axis.</span>
<span class="sd">            Either the location or the label of the columns to be used.</span>
<span class="sd">            By default, it will use the DataFrame indices.</span>
<span class="sd">        y : int, str, or list of them, optional</span>
<span class="sd">            The values to be plotted.</span>
<span class="sd">            Either the location or the label of the columns to be used.</span>
<span class="sd">            By default, it will use the remaining DataFrame numeric columns.</span>
<span class="sd">        **kwds</span>
<span class="sd">            Keyword arguments to pass on to :meth:`pandas.DataFrame.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : :class:`matplotlib.axes.Axes` or :class:`numpy.ndarray`</span>
<span class="sd">            Returns an ndarray when ``subplots=True``.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        matplotlib.pyplot.plot : Plot y versus x as lines and/or markers.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            The following example shows the populations for some animals</span>
<span class="sd">            over the years.</span>

<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">            ...    &#39;pig&#39;: [20, 18, 489, 675, 1776],</span>
<span class="sd">            ...    &#39;horse&#39;: [4, 25, 281, 600, 1900]</span>
<span class="sd">            ...    }, index=[1990, 1997, 2003, 2009, 2014])</span>
<span class="sd">            &gt;&gt;&gt; lines = df.plot.line()</span>

<span class="sd">        .. plot::</span>
<span class="sd">           :context: close-figs</span>

<span class="sd">           An example with subplots, so an array of axes is returned.</span>

<span class="sd">           &gt;&gt;&gt; axes = df.plot.line(subplots=True)</span>
<span class="sd">           &gt;&gt;&gt; type(axes)</span>
<span class="sd">           &lt;class &#39;numpy.ndarray&#39;&gt;</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            The following example shows the relationship between both</span>
<span class="sd">            populations.</span>

<span class="sd">            &gt;&gt;&gt; lines = df.plot.line(x=&#39;pig&#39;, y=&#39;horse&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Vertical bar plot.</span>

<span class="sd">        A bar plot is a plot that presents categorical data with</span>
<span class="sd">        rectangular bars with lengths proportional to the values that they</span>
<span class="sd">        represent. A bar plot shows comparisons among discrete categories. One</span>
<span class="sd">        axis of the plot shows the specific categories being compared, and the</span>
<span class="sd">        other axis represents a measured value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : label or position, optional</span>
<span class="sd">            Allows plotting of one column versus another. If not specified,</span>
<span class="sd">            the index of the DataFrame is used.</span>
<span class="sd">        y : label or position, optional</span>
<span class="sd">            Allows plotting of one column versus another. If not specified,</span>
<span class="sd">            all numerical columns are used.</span>
<span class="sd">        **kwds</span>
<span class="sd">            Additional keyword arguments are documented in</span>
<span class="sd">            :meth:`pandas.DataFrame.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : matplotlib.axes.Axes or np.ndarray of them</span>
<span class="sd">            An ndarray is returned with one :class:`matplotlib.axes.Axes`</span>
<span class="sd">            per column when ``subplots=True``.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        pandas.DataFrame.plot.barh : Horizontal bar plot.</span>
<span class="sd">        pandas.DataFrame.plot : Make plots of a DataFrame.</span>
<span class="sd">        matplotlib.pyplot.bar : Make a bar plot with matplotlib.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Basic plot.</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame({&#39;lab&#39;:[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;], &#39;val&#39;:[10, 30, 20]})</span>
<span class="sd">            &gt;&gt;&gt; ax = df.plot.bar(x=&#39;lab&#39;, y=&#39;val&#39;, rot=0)</span>

<span class="sd">        Plot a whole dataframe to a bar plot. Each column is assigned a</span>
<span class="sd">        distinct color, and each row is nested in a group along the</span>
<span class="sd">        horizontal axis.</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; speed = [0.1, 17.5, 40, 48, 52, 69, 88]</span>
<span class="sd">            &gt;&gt;&gt; lifespan = [2, 8, 70, 1.5, 25, 12, 28]</span>
<span class="sd">            &gt;&gt;&gt; index = [&#39;snail&#39;, &#39;pig&#39;, &#39;elephant&#39;,</span>
<span class="sd">            ...          &#39;rabbit&#39;, &#39;giraffe&#39;, &#39;coyote&#39;, &#39;horse&#39;]</span>
<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame({&#39;speed&#39;: speed,</span>
<span class="sd">            ...                    &#39;lifespan&#39;: lifespan}, index=index)</span>
<span class="sd">            &gt;&gt;&gt; ax = df.plot.bar(rot=0)</span>

<span class="sd">        Instead of nesting, the figure can be split by column with</span>
<span class="sd">        ``subplots=True``. In this case, a :class:`numpy.ndarray` of</span>
<span class="sd">        :class:`matplotlib.axes.Axes` are returned.</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; axes = df.plot.bar(rot=0, subplots=True)</span>
<span class="sd">            &gt;&gt;&gt; axes[1].legend(loc=2)  # doctest: +SKIP</span>

<span class="sd">        Plot a single column.</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; ax = df.plot.bar(y=&#39;speed&#39;, rot=0)</span>

<span class="sd">        Plot only selected categories for the DataFrame.</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; ax = df.plot.bar(x=&#39;lifespan&#39;, rot=0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">barh</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Make a horizontal bar plot.</span>

<span class="sd">        A horizontal bar plot is a plot that presents quantitative data with</span>
<span class="sd">        rectangular bars with lengths proportional to the values that they</span>
<span class="sd">        represent. A bar plot shows comparisons among discrete categories. One</span>
<span class="sd">        axis of the plot shows the specific categories being compared, and the</span>
<span class="sd">        other axis represents a measured value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : label or position, default DataFrame.index</span>
<span class="sd">            Column to be used for categories.</span>
<span class="sd">        y : label or position, default All numeric columns in dataframe</span>
<span class="sd">            Columns to be plotted from the DataFrame.</span>
<span class="sd">        **kwds</span>
<span class="sd">            Keyword arguments to pass on to :meth:`pandas.DataFrame.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : :class:`matplotlib.axes.Axes` or numpy.ndarray of them.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        pandas.DataFrame.plot.bar: Vertical bar plot.</span>
<span class="sd">        pandas.DataFrame.plot : Make plots of DataFrame using matplotlib.</span>
<span class="sd">        matplotlib.axes.Axes.bar : Plot a vertical bar plot using matplotlib.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Basic example</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame({&#39;lab&#39;:[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;], &#39;val&#39;:[10, 30, 20]})</span>
<span class="sd">            &gt;&gt;&gt; ax = df.plot.barh(x=&#39;lab&#39;, y=&#39;val&#39;)</span>

<span class="sd">        Plot a whole DataFrame to a horizontal bar plot</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; speed = [0.1, 17.5, 40, 48, 52, 69, 88]</span>
<span class="sd">            &gt;&gt;&gt; lifespan = [2, 8, 70, 1.5, 25, 12, 28]</span>
<span class="sd">            &gt;&gt;&gt; index = [&#39;snail&#39;, &#39;pig&#39;, &#39;elephant&#39;,</span>
<span class="sd">            ...          &#39;rabbit&#39;, &#39;giraffe&#39;, &#39;coyote&#39;, &#39;horse&#39;]</span>
<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame({&#39;speed&#39;: speed,</span>
<span class="sd">            ...                    &#39;lifespan&#39;: lifespan}, index=index)</span>
<span class="sd">            &gt;&gt;&gt; ax = df.plot.barh()</span>

<span class="sd">        Plot a column of the DataFrame to a horizontal bar plot</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; speed = [0.1, 17.5, 40, 48, 52, 69, 88]</span>
<span class="sd">            &gt;&gt;&gt; lifespan = [2, 8, 70, 1.5, 25, 12, 28]</span>
<span class="sd">            &gt;&gt;&gt; index = [&#39;snail&#39;, &#39;pig&#39;, &#39;elephant&#39;,</span>
<span class="sd">            ...          &#39;rabbit&#39;, &#39;giraffe&#39;, &#39;coyote&#39;, &#39;horse&#39;]</span>
<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame({&#39;speed&#39;: speed,</span>
<span class="sd">            ...                    &#39;lifespan&#39;: lifespan}, index=index)</span>
<span class="sd">            &gt;&gt;&gt; ax = df.plot.barh(y=&#39;speed&#39;)</span>

<span class="sd">        Plot DataFrame versus the desired column</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; speed = [0.1, 17.5, 40, 48, 52, 69, 88]</span>
<span class="sd">            &gt;&gt;&gt; lifespan = [2, 8, 70, 1.5, 25, 12, 28]</span>
<span class="sd">            &gt;&gt;&gt; index = [&#39;snail&#39;, &#39;pig&#39;, &#39;elephant&#39;,</span>
<span class="sd">            ...          &#39;rabbit&#39;, &#39;giraffe&#39;, &#39;coyote&#39;, &#39;horse&#39;]</span>
<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame({&#39;speed&#39;: speed,</span>
<span class="sd">            ...                    &#39;lifespan&#39;: lifespan}, index=index)</span>
<span class="sd">            &gt;&gt;&gt; ax = df.plot.barh(x=&#39;lifespan&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Make a box plot of the DataFrame columns.</span>

<span class="sd">        A box plot is a method for graphically depicting groups of numerical</span>
<span class="sd">        data through their quartiles.</span>
<span class="sd">        The box extends from the Q1 to Q3 quartile values of the data,</span>
<span class="sd">        with a line at the median (Q2). The whiskers extend from the edges</span>
<span class="sd">        of box to show the range of the data. The position of the whiskers</span>
<span class="sd">        is set by default to 1.5*IQR (IQR = Q3 - Q1) from the edges of the</span>
<span class="sd">        box. Outlier points are those past the end of the whiskers.</span>

<span class="sd">        For further details see Wikipedia&#39;s</span>
<span class="sd">        entry for `boxplot &lt;https://en.wikipedia.org/wiki/Box_plot&gt;`__.</span>

<span class="sd">        A consideration when using this chart is that the box and the whiskers</span>
<span class="sd">        can overlap, which is very common when plotting small sets of data.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        by : string or sequence</span>
<span class="sd">            Column in the DataFrame to group by.</span>
<span class="sd">        **kwds : optional</span>
<span class="sd">            Additional keywords are documented in</span>
<span class="sd">            :meth:`pandas.DataFrame.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : :class:`matplotlib.axes.Axes` or numpy.ndarray of them</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        pandas.DataFrame.boxplot: Another method to draw a box plot.</span>
<span class="sd">        pandas.Series.plot.box: Draw a box plot from a Series object.</span>
<span class="sd">        matplotlib.pyplot.boxplot: Draw a box plot in matplotlib.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Draw a box plot from a DataFrame with four columns of randomly</span>
<span class="sd">        generated data.</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; data = np.random.randn(25, 4)</span>
<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame(data, columns=list(&#39;ABCD&#39;))</span>
<span class="sd">            &gt;&gt;&gt; ax = df.plot.box()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;box&#39;</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">hist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draw one histogram of the DataFrame&#39;s columns.</span>

<span class="sd">        A histogram is a representation of the distribution of data.</span>
<span class="sd">        This function groups the values of all given Series in the DataFrame</span>
<span class="sd">        into bins and draws all bins in one :class:`matplotlib.axes.Axes`.</span>
<span class="sd">        This is useful when the DataFrame&#39;s Series are in a similar scale.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        by : str or sequence, optional</span>
<span class="sd">            Column in the DataFrame to group by.</span>
<span class="sd">        bins : int, default 10</span>
<span class="sd">            Number of histogram bins to be used.</span>
<span class="sd">        **kwds</span>
<span class="sd">            Additional keyword arguments are documented in</span>
<span class="sd">            :meth:`pandas.DataFrame.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : matplotlib.AxesSubplot histogram.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        DataFrame.hist : Draw histograms per DataFrame&#39;s Series.</span>
<span class="sd">        Series.hist : Draw a histogram with Series&#39; data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        When we draw a dice 6000 times, we expect to get each value around 1000</span>
<span class="sd">        times. But when we draw two dices and sum the result, the distribution</span>
<span class="sd">        is going to be quite different. A histogram illustrates those</span>
<span class="sd">        distributions.</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">            ...     np.random.randint(1, 7, 6000),</span>
<span class="sd">            ...     columns = [&#39;one&#39;])</span>
<span class="sd">            &gt;&gt;&gt; df[&#39;two&#39;] = df[&#39;one&#39;] + np.random.randint(1, 7, 6000)</span>
<span class="sd">            &gt;&gt;&gt; ax = df.plot.hist(bins=12, alpha=0.5)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="nd">@Appender</span><span class="p">(</span><span class="n">_kde_docstring</span> <span class="o">%</span> <span class="p">{</span>
        <span class="s1">&#39;this-datatype&#39;</span><span class="p">:</span> <span class="s1">&#39;DataFrame&#39;</span><span class="p">,</span>
        <span class="s1">&#39;sibling-datatype&#39;</span><span class="p">:</span> <span class="s1">&#39;Series&#39;</span><span class="p">,</span>
        <span class="s1">&#39;examples&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Given several Series of points randomly sampled from unknown</span>
<span class="s2">        distributions, estimate their PDFs using KDE with automatic</span>
<span class="s2">        bandwidth determination and plot the results, evaluating them at</span>
<span class="s2">        1000 equally spaced points (default):</span>

<span class="s2">        .. plot::</span>
<span class="s2">            :context: close-figs</span>

<span class="s2">            &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="s2">            ...     &#39;x&#39;: [1, 2, 2.5, 3, 3.5, 4, 5],</span>
<span class="s2">            ...     &#39;y&#39;: [4, 4, 4.5, 5, 5.5, 6, 6],</span>
<span class="s2">            ... })</span>
<span class="s2">            &gt;&gt;&gt; ax = df.plot.kde()</span>

<span class="s2">        A scalar bandwidth can be specified. Using a small bandwidth value can</span>
<span class="s2">        lead to over-fitting, while using a large bandwidth value may result</span>
<span class="s2">        in under-fitting:</span>

<span class="s2">        .. plot::</span>
<span class="s2">            :context: close-figs</span>

<span class="s2">            &gt;&gt;&gt; ax = df.plot.kde(bw_method=0.3)</span>

<span class="s2">        .. plot::</span>
<span class="s2">            :context: close-figs</span>

<span class="s2">            &gt;&gt;&gt; ax = df.plot.kde(bw_method=3)</span>

<span class="s2">        Finally, the `ind` parameter determines the evaluation points for the</span>
<span class="s2">        plot of the estimated PDF:</span>

<span class="s2">        .. plot::</span>
<span class="s2">            :context: close-figs</span>

<span class="s2">            &gt;&gt;&gt; ax = df.plot.kde(ind=[1, 2, 3, 4, 5, 6])</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="p">})</span>
    <span class="k">def</span> <span class="nf">kde</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bw_method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ind</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;kde&#39;</span><span class="p">,</span> <span class="n">bw_method</span><span class="o">=</span><span class="n">bw_method</span><span class="p">,</span> <span class="n">ind</span><span class="o">=</span><span class="n">ind</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="n">density</span> <span class="o">=</span> <span class="n">kde</span>

    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draw a stacked area plot.</span>

<span class="sd">        An area plot displays quantitative data visually.</span>
<span class="sd">        This function wraps the matplotlib area function.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : label or position, optional</span>
<span class="sd">            Coordinates for the X axis. By default uses the index.</span>
<span class="sd">        y : label or position, optional</span>
<span class="sd">            Column to plot. By default uses all columns.</span>
<span class="sd">        stacked : bool, default True</span>
<span class="sd">            Area plots are stacked by default. Set to False to create a</span>
<span class="sd">            unstacked plot.</span>
<span class="sd">        **kwds : optional</span>
<span class="sd">            Additional keyword arguments are documented in</span>
<span class="sd">            :meth:`pandas.DataFrame.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        matplotlib.axes.Axes or numpy.ndarray</span>
<span class="sd">            Area plot, or array of area plots if subplots is True</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        DataFrame.plot : Make plots of DataFrame using matplotlib / pylab.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Draw an area plot based on basic business metrics:</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">            ...     &#39;sales&#39;: [3, 2, 3, 9, 10, 6],</span>
<span class="sd">            ...     &#39;signups&#39;: [5, 5, 6, 12, 14, 13],</span>
<span class="sd">            ...     &#39;visits&#39;: [20, 42, 28, 62, 81, 50],</span>
<span class="sd">            ... }, index=pd.date_range(start=&#39;2018/01/01&#39;, end=&#39;2018/07/01&#39;,</span>
<span class="sd">            ...                        freq=&#39;M&#39;))</span>
<span class="sd">            &gt;&gt;&gt; ax = df.plot.area()</span>

<span class="sd">        Area plots are stacked by default. To produce an unstacked plot,</span>
<span class="sd">        pass ``stacked=False``:</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; ax = df.plot.area(stacked=False)</span>

<span class="sd">        Draw an area plot for a single column:</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; ax = df.plot.area(y=&#39;sales&#39;)</span>

<span class="sd">        Draw with a different `x`:</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">            ...     &#39;sales&#39;: [3, 2, 3],</span>
<span class="sd">            ...     &#39;visits&#39;: [20, 42, 28],</span>
<span class="sd">            ...     &#39;day&#39;: [1, 2, 3],</span>
<span class="sd">            ... })</span>
<span class="sd">            &gt;&gt;&gt; ax = df.plot.area(x=&#39;day&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;area&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pie</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a pie plot.</span>

<span class="sd">        A pie plot is a proportional representation of the numerical data in a</span>
<span class="sd">        column. This function wraps :meth:`matplotlib.pyplot.pie` for the</span>
<span class="sd">        specified column. If no column reference is passed and</span>
<span class="sd">        ``subplots=True`` a pie plot is drawn for each numerical column</span>
<span class="sd">        independently.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        y : int or label, optional</span>
<span class="sd">            Label or position of the column to plot.</span>
<span class="sd">            If not provided, ``subplots=True`` argument must be passed.</span>
<span class="sd">        **kwds</span>
<span class="sd">            Keyword arguments to pass on to :meth:`pandas.DataFrame.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : matplotlib.axes.Axes or np.ndarray of them.</span>
<span class="sd">            A NumPy array is returned when `subplots` is True.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        Series.plot.pie : Generate a pie plot for a Series.</span>
<span class="sd">        DataFrame.plot : Make plots of a DataFrame.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        In the example below we have a DataFrame with the information about</span>
<span class="sd">        planet&#39;s mass and radius. We pass the the &#39;mass&#39; column to the</span>
<span class="sd">        pie function to get a pie plot.</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame({&#39;mass&#39;: [0.330, 4.87 , 5.97],</span>
<span class="sd">            ...                    &#39;radius&#39;: [2439.7, 6051.8, 6378.1]},</span>
<span class="sd">            ...                   index=[&#39;Mercury&#39;, &#39;Venus&#39;, &#39;Earth&#39;])</span>
<span class="sd">            &gt;&gt;&gt; plot = df.plot.pie(y=&#39;mass&#39;, figsize=(5, 5))</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; plot = df.plot.pie(subplots=True, figsize=(6, 3))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;pie&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scatter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a scatter plot with varying marker point size and color.</span>

<span class="sd">        The coordinates of each point are defined by two dataframe columns and</span>
<span class="sd">        filled circles are used to represent each point. This kind of plot is</span>
<span class="sd">        useful to see complex correlations between two variables. Points could</span>
<span class="sd">        be for instance natural 2D coordinates like longitude and latitude in</span>
<span class="sd">        a map or, in general, any pair of metrics that can be plotted against</span>
<span class="sd">        each other.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : int or str</span>
<span class="sd">            The column name or column position to be used as horizontal</span>
<span class="sd">            coordinates for each point.</span>
<span class="sd">        y : int or str</span>
<span class="sd">            The column name or column position to be used as vertical</span>
<span class="sd">            coordinates for each point.</span>
<span class="sd">        s : scalar or array_like, optional</span>
<span class="sd">            The size of each point. Possible values are:</span>

<span class="sd">            - A single scalar so all points have the same size.</span>

<span class="sd">            - A sequence of scalars, which will be used for each point&#39;s size</span>
<span class="sd">              recursively. For instance, when passing [2,14] all points size</span>
<span class="sd">              will be either 2 or 14, alternatively.</span>

<span class="sd">        c : str, int or array_like, optional</span>
<span class="sd">            The color of each point. Possible values are:</span>

<span class="sd">            - A single color string referred to by name, RGB or RGBA code,</span>
<span class="sd">              for instance &#39;red&#39; or &#39;#a98d19&#39;.</span>

<span class="sd">            - A sequence of color strings referred to by name, RGB or RGBA</span>
<span class="sd">              code, which will be used for each point&#39;s color recursively. For</span>
<span class="sd">              instance [&#39;green&#39;,&#39;yellow&#39;] all points will be filled in green or</span>
<span class="sd">              yellow, alternatively.</span>

<span class="sd">            - A column name or position whose values will be used to color the</span>
<span class="sd">              marker points according to a colormap.</span>

<span class="sd">        **kwds</span>
<span class="sd">            Keyword arguments to pass on to :meth:`pandas.DataFrame.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : :class:`matplotlib.axes.Axes` or numpy.ndarray of them</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        matplotlib.pyplot.scatter : Scatter plot using multiple input data</span>
<span class="sd">            formats.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s see how to draw a scatter plot using coordinates from the values</span>
<span class="sd">        in a DataFrame&#39;s columns.</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame([[5.1, 3.5, 0], [4.9, 3.0, 0], [7.0, 3.2, 1],</span>
<span class="sd">            ...                    [6.4, 3.2, 1], [5.9, 3.0, 2]],</span>
<span class="sd">            ...                   columns=[&#39;length&#39;, &#39;width&#39;, &#39;species&#39;])</span>
<span class="sd">            &gt;&gt;&gt; ax1 = df.plot.scatter(x=&#39;length&#39;,</span>
<span class="sd">            ...                       y=&#39;width&#39;,</span>
<span class="sd">            ...                       c=&#39;DarkBlue&#39;)</span>

<span class="sd">        And now with the color determined by a column as well.</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; ax2 = df.plot.scatter(x=&#39;length&#39;,</span>
<span class="sd">            ...                       y=&#39;width&#39;,</span>
<span class="sd">            ...                       c=&#39;species&#39;,</span>
<span class="sd">            ...                       colormap=&#39;viridis&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">hexbin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">reduce_C_function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">gridsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a hexagonal binning plot.</span>

<span class="sd">        Generate a hexagonal binning plot of `x` versus `y`. If `C` is `None`</span>
<span class="sd">        (the default), this is a histogram of the number of occurrences</span>
<span class="sd">        of the observations at ``(x[i], y[i])``.</span>

<span class="sd">        If `C` is specified, specifies values at given coordinates</span>
<span class="sd">        ``(x[i], y[i])``. These values are accumulated for each hexagonal</span>
<span class="sd">        bin and then reduced according to `reduce_C_function`,</span>
<span class="sd">        having as default the NumPy&#39;s mean function (:meth:`numpy.mean`).</span>
<span class="sd">        (If `C` is specified, it must also be a 1-D sequence</span>
<span class="sd">        of the same length as `x` and `y`, or a column label.)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : int or str</span>
<span class="sd">            The column label or position for x points.</span>
<span class="sd">        y : int or str</span>
<span class="sd">            The column label or position for y points.</span>
<span class="sd">        C : int or str, optional</span>
<span class="sd">            The column label or position for the value of `(x, y)` point.</span>
<span class="sd">        reduce_C_function : callable, default `np.mean`</span>
<span class="sd">            Function of one argument that reduces all the values in a bin to</span>
<span class="sd">            a single number (e.g. `np.mean`, `np.max`, `np.sum`, `np.std`).</span>
<span class="sd">        gridsize : int or tuple of (int, int), default 100</span>
<span class="sd">            The number of hexagons in the x-direction.</span>
<span class="sd">            The corresponding number of hexagons in the y-direction is</span>
<span class="sd">            chosen in a way that the hexagons are approximately regular.</span>
<span class="sd">            Alternatively, gridsize can be a tuple with two elements</span>
<span class="sd">            specifying the number of hexagons in the x-direction and the</span>
<span class="sd">            y-direction.</span>
<span class="sd">        **kwds</span>
<span class="sd">            Additional keyword arguments are documented in</span>
<span class="sd">            :meth:`pandas.DataFrame.plot`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        matplotlib.AxesSubplot</span>
<span class="sd">            The matplotlib ``Axes`` on which the hexbin is plotted.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        DataFrame.plot : Make plots of a DataFrame.</span>
<span class="sd">        matplotlib.pyplot.hexbin : Hexagonal binning plot using matplotlib,</span>
<span class="sd">            the matplotlib function that is used under the hood.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        The following examples are generated with random data from</span>
<span class="sd">        a normal distribution.</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; n = 10000</span>
<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame({&#39;x&#39;: np.random.randn(n),</span>
<span class="sd">            ...                    &#39;y&#39;: np.random.randn(n)})</span>
<span class="sd">            &gt;&gt;&gt; ax = df.plot.hexbin(x=&#39;x&#39;, y=&#39;y&#39;, gridsize=20)</span>

<span class="sd">        The next example uses `C` and `np.sum` as `reduce_C_function`.</span>
<span class="sd">        Note that `&#39;observations&#39;` values ranges from 1 to 5 but the result</span>
<span class="sd">        plot shows values up to more than 25. This is because of the</span>
<span class="sd">        `reduce_C_function`.</span>

<span class="sd">        .. plot::</span>
<span class="sd">            :context: close-figs</span>

<span class="sd">            &gt;&gt;&gt; n = 500</span>
<span class="sd">            &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">            ...     &#39;coord_x&#39;: np.random.uniform(-3, 3, size=n),</span>
<span class="sd">            ...     &#39;coord_y&#39;: np.random.uniform(30, 50, size=n),</span>
<span class="sd">            ...     &#39;observations&#39;: np.random.randint(1,5, size=n)</span>
<span class="sd">            ...     })</span>
<span class="sd">            &gt;&gt;&gt; ax = df.plot.hexbin(x=&#39;coord_x&#39;,</span>
<span class="sd">            ...                     y=&#39;coord_y&#39;,</span>
<span class="sd">            ...                     C=&#39;observations&#39;,</span>
<span class="sd">            ...                     reduce_C_function=np.sum,</span>
<span class="sd">            ...                     gridsize=10,</span>
<span class="sd">            ...                     cmap=&quot;viridis&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">reduce_C_function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;reduce_C_function&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reduce_C_function</span>
        <span class="k">if</span> <span class="n">gridsize</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">kwds</span><span class="p">[</span><span class="s1">&#39;gridsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gridsize</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hexbin&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="n">C</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, LIP6

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>